<hr>
<b>WIVE FIRMWARE IS FREE FOR THE NON-COMMERCIAL USE ONLY.</b>
<br>
<b>Conditions of commercial use non GPL (or other not viral license) components are discussed individually.</b>
<hr>
<b>News and changes in Russian:</b><br>
<a href="http://wive-ng.sf.net">wive-ng.sf.net - development opensource routers firmware</a><br>
<br>
<b>Bug report please send to support[at]nag.ru or sfstudio[at]mail.ru</b>
<hr>
<b>Release tree changes:</b><br>
<b>0.0.x-0.30.x</b><br>
1) full new codebase.<br>
2) sync with 4.2.1.0 SDK.<br>
3) toolchain: move to 4.8.4 gcc svn version (after 4.8.3 release 4.8 tree apply only bugfixes).<br>
4) webui: add wan mac change logic.<br>
5) fix drop nvram in fs fullreset in some situations.<br>
6) defaults: temp disable multicast2unicast.<br>
7) rf calib: use avarage calibs if need fullreset or factory part crash.<br>
8) init.d: add workaround for fix txring fill in drivers if M2U enabled.<br>
9) init.d: fix disabled forwarding after sysctl rebuild.<br>
10) init.d: fix get vendid at new mac generate.<br>
11) init.d: fix double vlan tag disable from UI.<br>
12) init.d: rewrite logic for ipv6 suppor (need write logic for more modes support).<br>
13) init.d: add base rules for upnpv6 pinholes.<br>
14) init.d: radvd,dhcpv6: read dns server from uplink if recived.<br>
15) igmpproxy: lan snoping: fix infinitive loop if find unused endtry.<br>
16) igmpproxy: wifi snoping: fix manipulate snooping records in wifi drivers, and mac lookup.<br>
17) goahead: add base webUI for ipv6 configure (need write logic for more modes support).<br>
18) goahead: add replace RWFS (/etc folder) by webui (full or different components).<br>
19) goahead: add dhcpv6 server control in misc.<br>
20) goahead: fix add portforward rules (syntax compat with new iptables fix).<br>
21) openssl up to 0.9.8zc version.<br>
23) apps: port wide-dhcpv6 (need write client logic, server logic work good).<br>
24) apps: add and use sambav3 for > 4Mb flash sizes images.<br>
25) apps: dropbear: up to 2014.66 version.<br>
26) apps: miniupnpd: add ipv6 support if configured.<br>
27) apps: ppp,busybox,miniupnpd: build with no strict aliasing (safe build with new compilers).<br>
28) libs: add libnfnetlink (need for ipv6 miniupnpd support).<br>
29) miniupnpd: version up to 1.8.20141022.<br>
30) busybox: apply lzop upstream patch (zcat suspended - break depmod).<br>
31) kernel: link time optimization.<br>
32) kernel: hash speed optimization.<br>
33) kernel: add autodetect ramsize support.<br>
34) kernel: ralink hw_nat: correct ppe work at revH (206 PPE).<br>
35) kernel: ralink hw_nat: skip mark and imq target from PPE.<br>
36) kernel: ralink hw_nat: webstr target fix from PPE.<br>
37) kernel: ralink hw_nat: pass workloads in PPE for some cases.<br>
38) kernel: ralink hw_nat: foe header in some cases.<br>
39) kernel: ralink hw_nat: show destination port on PpeHitBindForceToCpuHandler failed.<br>
40) kernel: hw_nat, raeth: MT762x external switch control improvements.<br>
41) kernel: hw_nat, raeth: reinit PPE engine after FE reset (RT3x5x/RT3883), reset PPE engine on FE reset (MT762x).<br>
42) kernel: ralink wifi: fix some ATE issues.<br>
43) kernel: ralink wifi: use my version mcast filter table and backport small snooping fixes from 4.x.x driver.<br>
44) kernel: ralink wifi: prevent skb double free in igmp_snoop processiong.<br>
45) kernel: ralink wifi: workaround for stop tx if client not correct disconnect.<br>
46) kernel: ralink wifi: rx/tx optimization (remove stupid wrappers in time critical code).<br>
47) kernel: fastroute/fastnat: implement for new kernel.<br>
48) kernel: fastroute/fastnat: optimization skip logic.<br>
49) kernel: rewrite min3, max3 and clamp using min and max.<br>
50) kernel: fix compat with new gcc compiler versions.<br>
51) kernel: arp at media state change send arp broadcast packet for arp table update(fix issue with some radio and switches).<br>
52) kernel: arp: do not perturb drop profiles with ignored ARP packets.<br>
53) kernel: arp: make arp_invalidate static.<br>
54) kernel: sit: fix ipip6_tunnel_lookup device matching criteria.<br>
55) kernel: skbuff: fix ftrace handling in skb_unshare.<br>
56) kernel: packet: handle too big packets for PACKET_V3.<br>
57) kernel: lro: remove dead code.<br>
58) kernel: jiffies: fix timeval conversion to jiffies.<br>
59) kernel: futex: Unlock hb->lock in futex_wait_requeue_pi() error path.<br>
60) kernel: locking/mutexes: Optimize mutex trylock slowpath.<br>
61) kernel: fix nasty 32-bit overflow bug in buffer i/o code.<br>
62) kernel: xhci: fix null pointer dereference if xhci initialization fails.<br>
63) kernel: usb: host: xhci: fix compliance mode workaround.<br>
64) kernel: storage: add single-LUN quirk for Jaz USB adapter.<br>
65) kernel: softirq: reduce latencies.<br>
66) kernel: 8021q: fix vlan device to inherit the unicast filtering capability flag.<br>
67) kernel: netfilter: conntrack: disable generic tracking for known protocols.<br>
68) kernel: netfilter: nf_conntrack: remove dead code.<br>
69) kernel: netfilter: push reasm skb through instead of original frag skbs.<br>
70) kernel: mips: fix jump label support.<br>
71) kernel: mips: modules: rellocate for prevent long call.<br>
71) kernel: mips: Use inline function to access current thread pointer.<br>
72) kernel: mips: Improve atomic.h robustness.<br>
73) kernel: mips: vmlinux.lds.h: Allow architectures to add sections to the front of .bss.<br>
74) kernel: mips: Align swapper_pg_dir to 64K for better TLB Refill code.<br>
75) kernel: mips: R4k clock source initialization bug fix.<br>
76) kernel: mips: Discard .eh_frame sections in linker script.<br>
77) kernel: mips: mcount: Adjust stack pointer for static trace in MIPS32.<br>
78) kernel: mips: O32/32-bit: Fix bug which can cause incorrect system call restarts.<br>
79) kernel: af_unix: fix a fatal race with bit fields.<br>
80) kernel: unix/dgram: peek beyond 0-sized skbs.<br>
81) kernel: unix/dgram: fix peeking with an offset larger than data in queue.<br>
82) kernel: unix/stream: fix peeking with an offset larger than data in queue.<br>
83) kenrel: route: Remove redirect_genid<br>
84) kernel: net: only use a single page of slop in MAX_SKB_FRAGS.<br>
85) kernel: net: pack skb_shared_info more efficiently.<br>
86) kernel: net: use consume_skb() in place of kfree_skb().<br>
87) kernel: net: optimize csum_replace2().<br>
88) kernel: net: optimise csum_replace4().<br>
89) kernel: net: optimise inet_proto_csum_replace4().<br>
90) kernel: net: skbuff: const-ify casts in skb_queue_* functions.<br>
91) kernel: net: remove function sk_reset_txq().<br>
92) kernel: net: Use consume_skb() to free gso segmented skb.<br>
93) kernel: net: remove redundant code in dev_hard_start_xmit().<br>
94) kernel: net: core: let skb_partial_csum_set() set transport header.<br>
95) kernel: net: cacheline adjust struct netns_frags, inet_frags and inet_frag_queue for better frag performance.<br>
96) kernel: net: compute skb->rxhash if nic hash may be 3-tuple.<br>
97) kernel: net: make skb_gso_segment error handling more robust.<br>
98) kernel: ipv[4|6]: correct dropwatch false positive in local_deliver_finish.<br>
99) kernel: ipv4: igmp: fix v3 general query drop monitor false positive.<br>
100) kernel: ipv4: consistent reporting of pmtu data in case of corking.<br>
101) kernel: ipv4: fix ip header ident selection in __ip_make_skb().<br>
102) kernel: ipv4: fix ip_send_skb().<br>
103) kernel: ipv4: fix buffer overflow in ip_options_compile().<br>
104) kernel: ipv4: Cache ip_error() routes even when not forwarding.<br>
105) kernel: ipv4: distinguish EHOSTUNREACH from the ENETUNREACH.<br>
106) kernel: ipv4: ip_forward: perform skb->pkt_type check at the beginning.<br>
107) kernel: ipv4: arp: update neighbour address when a gratuitous arp is received and arp_accept is set.<br>
108) kernel: ipv4: revert: use a 64bit load/store in output path (profit on x86_64 only).<br>
109) kernel: ipv6: remove aca_lock spinlock from struct ifacaddr6.<br>
110) kernel: ipv6: Do not warn for informational ICMP messages, regardless of type.<br>
111) kernel: ipv6: removed unused inet6 address state.<br>
112) kernel: ipv6: remove unused function ipv6_inherit_linklocal().<br>
113) kernel: l2tp: fix race while getting PMTU on PPP pseudo-wire.<br>
114) kernel: l2tp: exclude session versions check if l2tp v3 support not builded (small speedup).<br>
115) kernel: l2tp: remove debug in in time critical code (small speedup).<br>
116) kernel: tcp: fix ooo_okay setting vs Small Queues.<br>
117) kernel: tcp: md5: remove unneeded check in tcp_v4_parse_md5_keys.<br>
118) kernel: tcp: make tcp_cwnd_application_limited() static.<br>
119) kernel: tcp: do not leak non zero tstamp in output packets.<br>
120) kernel: tcp: reduce the bloat caused by tcp_is_cwnd_limited().<br>
121) kernel: tcp: use zero-window when free_space is low.<br>
122) kernel: tcp: optimize some skb_shinfo(skb) uses.<br>
123) kernel: tcp: remove redundant code in __tcp_retransmit_skb().<br>
124) kernel: tcp: remove the sk_can_gso() check from tcp_set_skb_tso_segs().<br>
125) kernel: tcp: tcp_transmit_skb() optimizations.<br>
126) kernel: tcp: Always set options to 0 before calling tcp_established_options.<br>
127) kernel: tcp: tcp_tso_segment() small optimization.<br>
128) kernel: tcp: make tcp_clear_md5_list static.<br>
129) kernel: increase rwfs size for 8Mb devices to 512kb (prepare for add custom webui upload to rwfs).<br>
<br>
<br>
<b>0.3x.x</b><br>
1) build system: ppp,miniupnpd and busybox build with -fno-strict-aliasing for safe build with new gcc.<br>
2) build system: xz tool up to 5.0.7 version.<br>
3) build system: xz tune rootfs pack for decrease image size.<br>
4) build system: toolchain: update gcc to 4.8.4(svn up version).<br>
5) radvd: up to 2.8 version.<br>
6) miniupnpd up to: 1.9 version.<br>
7) igmpproxy: add igmpv3 support and cleanup.<br>
8) goahead: remove bogus double restart ripd/zebra.<br>
9) goahead: remove dead mesh support.<br>
10) pppd: cap MTU to the user configured value.<br>
11) init.d: fix reinit switch (now support internal esw only).<br>
12) init.d: enable multicast2unicast in wifi drivers only if igmpproxy enabled.<br>
13) init.d: move dhcpv6 client start to wan config.<br>
14) init.d: use ISP DNS ipv6 servers for local resolv if recived.<br>
15) init.d: ipv6: need check ipv4 adress on wan only in tunneling modes.<br>
16) init.d: fix pcp/nat-pmp control port accept from lan.<br>
17) init.d: fix get wan_if for IPv6<br>
18) init.d: move ipv6 config and radvd/dhcp6s start in S20six script.<br>
19) init.d: more remove init at goahead dependency.<br>
20) init.d: rearrange first step config for more linear boot.<br>
21) init.d: flush only scope route at deconfig ipv6.<br>
22) init.d: more safe samba restart.<br>
23) init.d: add /etc/script/switchadv.sh hook for advanced switch (vlan/portmap/etc) configure.<br>
24) init.d: rework config-switch.sh (cleanup and more direct steps configs).<br>
25) kernel: use the deterministic mode of AR if available.<br>
26) kernel: periodically refresh ralink watchdog from net/core/dev (prevent reboot at very high load).<br>
27) kernel: skip fastnat/fastroute from mark/connmark.<br>
28) kernel: add missing linux/prefetch.h include to net/core/sock.c.<br>
29) kernel: shmem: fix nlink for rename overwrite directory.<br>
30) kernel: fs: namespace: suppress 'may be used uninitialized' warnings.<br>
31) kernel: nfsd: Fix ACL null pointer deref.<br>
32) kernel: softirq: use const char * const for softirq_to_name, whitespace neatening.<br>
33) kernel: mtd: mtd_blkdevs: Replace request handler kthread with a workqueue.<br>
34) kernel: mtd: merge mtdchar module with mtdcore.<br>
35) kernel: mtd: introduce mtd_block_isreserved().<br>
36) kernel: mtd: account for BBT blocks when a partition is being allocated.<br>
37) kernel: mtd: correct upper bounds check for mtd_*() APIs.<br>
38) kernel: mtd: mtdchar: return expected errors on mmap() call.<br>
39) kernel: mtd: mtdchar: handle chips that have user otp but no factory otp.<br>
40) kernel: mtd: mtd_blkdevs: handle REQ_FLUSH request and do explicit flush of writeback buffer.<br>
41) kenrel: mtd: cfi_cmdset_0002: allow retry/timeout loop to exit.<br>
42) kernel: squashfs: sanity check information from disk.<br>
43) kernel: squashfs: fix corruption check in get_dir_index_using_name().<br>
44) kernel: squashfs: fix corruption checks in squashfs_lookup().<br>
45) kernel: squashfs: fix corruption checks in squashfs_readdir().<br>
46) kenrel: squashfs: revert bogus commit from OpenWRT tree.<br>
47) kernel: pptp: use for_each_set_bit_from.<br>
48) kernel: pptp: fix sparse pointer warning.<br>
49) kernel: pptp: fix byte order warnings.<br>
50) kernel: raeth: always skb_pad in xmit path (fix stop PPPE work at wifi offload + PPPOE uplink).<br>
51) kernel: raeth: optimize skb_shinfo(skb) uses.<br>
52) kernel: raeth: use RAETH_DEBUG from kernel config.<br>
53) kernel: raeth: add support NAPI and enable by default (speedup).<br>
54) kernel: raeth: fetch pending FE counters before FE reset.<br>
55) kernel: raeth: properly reset irq status on softirq exit.<br>
56) kernel: netfilter: nf_conntrack: flush net_gre->keymap_list only from gre helper.<br>
57) kernel: netfilter: nf_defrag_ipv6.o included twice.<br>
58) kernel: netfilter: nf_conntrack: avoid large timeout for mid-stream pickup.<br>
59) kernel: ipv4: igmp: fix v3 general query drop monitor false positive.<br>
60) kernel: ipv4: raise IP_MAX_MTU to theoretical limit.<br>
61) kernel: ipv6: reuse ip6_frag_id from ip6_ufo_append_data.<br>
62) kernel: sched: rework check_for_tasks().<br>
63) kernel: net: loopback: set default mtu to 64K.<br>
<br>
<br>
<b>0.4x.x</b><br>
1) defaults: init.d: fix work ipv6 on some devices if igmp snooping disabled.<br>
2) goahead: rearrange services in misc pages for more usefull.<br>
3) init.d: cleanup and optimize (next step).<br>
4) init.d: add static routes for all resolved vpn server adresses.<br>
5) init.d: remove web_wait logic, not more need and unused some time.<br>
6) init.d: vpnhelper: direct set iface name in static routes to vpn servers.<br>
7) busybox: udhcpc: allow unicast RENEW for lease time from 60s, allow first unicast RENEW on force renew performed (fix short leases under ISP with DHCP snooping).<br>
8) kernel: irq: consolidate do_softirq() arch overriden implementations.<br>
9) kernel: irq: optimize call to softirq on hardirq exit.<br>
10) kernel: irq: improve a bit softirq debugging.<br>
11) kernel: irq: justify the various softirq stack choices.<br>
12) kernel: irq: optimize softirq stack selection in irq exit.<br>
13) kernel: irq: ensure irq_exit() code runs with interrupts disabled.<br>
14) kernel: irq: sanitize invoke_softirq.<br>
15) kernel: irq: force hardirq exit's softirq processing on its own stack.<br>
16) kernel: irq: don't re-enable interrupts at the end of irq_exit.<br>
17) kernel: irq: remove IRQ_EXIT_OFFSET workaround.<br>
18) kernel: softirq: remove support for triggering softirq work on softirqs patch.<br>
19) kernel: softirq: use ffs() in __do_softirq().<br>
20) kernel: genirq: correct fuzzy and fragile IRQ_RETVAL() definition.<br>
21) kernel: lockdep: correctly annotate hardirq context in irq_exit().<br>
22) kernel: printk/cache: mark printk_once test variable __read_mostly.<br>
23) kernel: printk: add printk_deferred_once.<br>
24) kernel: kprobes: make hash_64() as always inlined.<br>
25) kernel: sections: fix const sections for crc32 table.<br>
26) kernel: ipv6: store Router Alert option in IP6CB directly.<br>
27) kernel: linux/kernel.h: DIV_ROUND_CLOSEST add support negative dividends (and depends).<br>
28) kernel: mm: mark mm-inline functions as __always_inline.<br>
29) kernel: mips: fix strnlen_user() return value in case of overlong strings.<br>
30) kernel: mcast: define and use MRT[6]_MAX in ip[6]_mroute_opt().<br>
31) kernel: sched: fix the theoretical signal_wake_up() vs schedule() race.<br>
32) kernel: fix lockup related to stop_machine being stuck in __do_softirq.<br>
33) kernel: raeth: fix NAPI race issue.<br>
34) kernel: raeth: ack all not RX/TX interrupts before enter to NAPI poll mode.<br>
35) kernel: net/core: make GRO/napi_frags_skb() methods static.<br>
36) kernel: net: add ETH_P_802_3_MIN.<br>
37) kernel: net: skbuff: Use ALIGN macro instead of open coding it.<br>
38) kernel: net: dont use ifindices in hash fns.<br>
39) kernel: net: reset mac header in dev_start_xmit().<br>
40) kernel: ipv4: Do not cache routing failures due to disabled forwarding.<br>
41) kernel: netfilter: nf_conntrack: constify sk_buff argument to nf_ct_attach().<br>
<br>
<br>
<b>0.5x.x</b><br>
1) init.d: dnsmasq: increase cache size and allowen forward per one time limit.<br>
2) init.d: optimize get parametrs from nvram (more variable always avail by call global script).<br>
3) init.d: cleanup and optimize wifi/apcli init logic.<br>
4) init.d: remove old unused hacks.<br>
5) init.d: fix apcli mode connect after apply before reboot.<br>
6) init.d: always tune wifi after ifacse up.<br>
7) init.d: tune parametrs for apcli to.<br>
8) init.d: do not use goahead.pid as boot complete flag, use /tmp/goodboot instead (more independed from goahead logic).<br>
9) init.d: rework cdp-send start.<br>
10) init.d: in ap/apcli bridge mode enable Multicast2Unicast independed Igmpproxy enabled.<br>
11) apps: add lldpd daemon and control tools.<br>
12) miniupnpd: up to version 1.9.20141108.<br>
13) goahead: fix print error messages at update fw/restore settings/load rwfs.<br>
14) goahead: read lan/wan ifnames from /tmp/*an_if_name exported by init.d in global script.<br>
15) goahead: fix get mode vpn.<br>
16) goahead: add show real ip adress vpn/wan in status page.<br>
17) kernel: lockdep: fix oops in processing workqueue.<br>
18) kernel: workqueue: change BUG_ON() to WARN_ON().<br>
19) kernel: workqueue: don't use WQ_HIGHPRI for unbound workqueues.<br>
20) kernel: raeth: disable TSO for rev <207 (rev206 has TSO bug to).<br>
21) kernel: raeth: use DLY_INT (with aggregate up to 2 INT and max 40us delay) for NAPI (decrease CPU usage on medium FE load).<br>
22) kernel: raeth: add support independent TX rings (w/o cross lock) for 2xRGMII mode (RT3883/MT7621).<br>
23) kernel: raeth: improvements for external switch case, move stats update from softirq to workqueue.<br>
24) kernel: ralink_wifi: fix apscan support.<br>
25) kernel: ralink_wifi: update eeprom array in driver.<br>
26) kernel: ralink_wifi: patch fix dhcp issue on new Apple and others buggy clients (use RATE_6 instead of 24).<br>
27) kernel: ralink_wifi: fix and enable decrease interference effects logic (dynamicvga and friends).<br>
28) kernel: net: sysctl: set frto=2, bug TCP: snd_cwnd is null http://patchwork.ozlabs.org/patch/234793/<br>
29) kernel: net: apply http://patchwork.ozlabs.org/patch/234793/ fix (in future need backport new FRTO code).<br>
30) kernel: net: fastnat/fastroute: use ip_route_input_noref(), to avoid 4 atomic ops per packet.<br>
31) kernel: net: fix network-related panic in Linux 3.2.63 and later (CVE-2014-7207).<br>
32) kernel: net: ipv[46] - Remove 2 unnecessary NETDEBUG OOM messages.<br>
33) kernel: ipv6: mld: fix add_grhead skb_over_panic for devs with large MTUs.<br>
<br>
<br>
<b>1.0.x</b><br>
1) init.d: optimize and small fix switch and offload configure.<br>
2) init.d: add shortname for LAN (need to lldpd daemon for hostname resolutions).<br>
3) init.d: automount.sh: fix check cold boot.<br>
4) goahead: fix swith from/to apcli with apcli bridge only modes.<br>
5) igmpproxy: auto enable Multicast2Unicast in wifi driver at first request.<br>
6) igmpproxy: fix wifi igmp records managment.<br>
7) kernel: mm: page-writeback: inline account_page_dirtied() into single caller.<br>
8) kernel: ipv4: fix nexthop attlen check in fib_nh_match.<br>
9) kernel: hw_nat: spin_(un)lock must be Bottom Halve (prevent deadlock).<br>
10) kernel: ralink wifi: decrease life check packets count, decrease life time and check interval for more speed cleanup died clients.<br>
11) kernel: ralink wifi: add lost increment retry count in jam traffic detect path.<br>
12) kernel: ralink wifi: backport unify jam traffic detect logic from v4 drivers.<br>
13) kernel: ralink wifi: decrease tx ring size (set 64 instead of 128).<br>
14) kernel: ralink wifi: limit to 16 numbers of mcast packets in normal/ps queue.<br>
15) kernel: raeth: fix raise spurious interrupts.<br>
16) kernel: fastroute: increase CB offcet (found used offset 41 in wifi drivers).<br>
<br>
<br>
<b>1.1.x</b><br>
1) init.d: fix diable offloads in bridged modes.<br>
2) init.d: fix LLLLL config for bridget modes.<br>
3) init.d: fix LLLWW config.<br>
4) init.d: fix kext switch workaround.<br>
5) init.d: in bridged mode direct enable Multicast2Unicast in wifi drivers independed by igmpproxy enable.<br>
10) sysctl: tune defaults more optimal for 64Mb ram devices.<br>
11) igmpproxy: rework snooping managment code (temp disable static records managent).<br>
12) buildsystem: small cleanup and more safe gcc flags use for wireless modules (driver code in some cases ugly and mabe uncrorrect build with this options).<br>
13) kernel: ralink wifi: fix m2u filter table. Add MDNS and fix IgmpV3 filter.<br>
14) kernel: tcp: limit GSO packets to half cwnd.<br>
15) kernel: fix misuses of f_count() in ppp.<br>
16) kernel: mips: jump_label.c: Correct the span of the J instruction.<br>
17) kernel: mips: jump_label.c: Handle the microMIPS J instruction encoding.<br>
<br>
<br>
<b>1.2.x</b><br>
1) init.d/genkeys: remove not need sleep (move to goahead boot complite).<br>
2) init.d/dnsserv: correct steps generate hosts.<br>
3) init.d/lanconf: remove not needed swicth clear call.<br>
4) init.d/goahead: add vlan support for bridge port TV/SIP/STB modes.<br>
5) init.d/goahead: add 3WAN/2LAN modes for STB+SIP bridget ports mode.<br>
6) init.d/goahead: add get mcast from VLAN TV/SIP/STB bridges.<br>
7) init.d/goahead: move delayed backup from goahead to init.d web script.<br>
8) init.d/goahead: add M2U conversion managment.<br>
9) init.d/l2tpsrv: fix masqrade rule add.<br>
10) goahead: use mtd_write erase RW-FS instead of direct crash rwfs.<br>
11) goahead: cleanup dead code and fix debug.<br>
12) igmpproxy: ignore igmpv3 block_old_sources<br>
13) miniupnpd: up to 1.9.20141128 version.<br>
14) kernel: bridge: implement multicast fast leave.<br>
15) kernel: bridge: add support multicast-to-unicast (M2U) conversion.<br>
16) kernel: ralink ehci/ohci: improve host mode init.<br>
17) kernel: ralink_wifi: disable igmp snooping and mcast rate specific.<br>
18) kernel: ralink_wifi: fix SGI use/indication in rate_ctl.<br>
19) kernel: mips: oprofile: Fix backtrace on 64-bit kernel.<br>
20) kernel: mips: fix address type used for early memory detection.<br>
21) kernel: mips: lib: memset: Use macro to build the __bzero symbol.<br>
22) kernel: mips: lib: memset: Add EVA support for the __bzero function.<br>
23) kernel: pptp: fix stack info leak in pptp_getname().<br>
24) kernel: random: add and use memzero_explicit() for clearing data.<br>
25) kernel: mm/memory.c: use entry = ACCESS_ONCE(*pte) in handle_pte_fault().<br>
26) kernel: mm/page_alloc: add unlikely macro to help compiler optimization.<br>
27) kernel: mm/mempolicy: remove per-process flag.<br>
28) kernel: ppp: build ppp* as static (sligth optimize performance, small increase ram usage).<br>
29) kernel: enchane sections speed hack(fastpathsys ~2% cpu free).<br>
30) kernel: ipv4: Make IP_MULTICAST_ALL and IP_MSFILTER work on raw sockets.<br>
31) kernel: apply optimize_mips_memcpy_memset_cache.<br>
32) kernel: ralink spi: allow set FAST/DOR/DIOR from kernel config, support DOR on Macronix chips.<br>
33) kernel: bridge: fix netfilter/NF_BR_LOCAL_OUT for own, locally generated queries.<br>
34) kernel: bridge: send query as soon as leave is received.<br>
35) kernel: bridge: multicast: enable snooping on general queries only.<br>
36) kernel: bridge: multicast: allow leave and fast_leave for M2U records.<br>
37) kernel: disable IPv6 offload for SDRAM memory devices (4Mb FLASH samples).<br>
<br>
<br>
<b>1.3.x</b><br>
1) toolchain: sync with 4.8.4 gcc svn version (after 4.8.3 release 4.8 tree apply only bugfixes).<br>
2) toolchain: kernel headers up 02.12.2014.<br>
3) toolchain: rebuild for 32bit hosts (need for prebuildede build compat).<br>
4) miniupnpd: up to 1.9.20141204 version.<br>
5) xl2tpd: up to Nov 26, 2014 git version.<br>
6) kernel: update to 3.4.105.<br>
7) kernel: ralink_wifi: update to 2.7.2.0/2.6.2.0 (20140820) AP/STA drivers.<br>
8) kernel: ralink_wifi: add support 64 bit interface counters.<br>
9) kernel: ralink_wifi: backport ApCliRcvBeaconTime fix from 3.x.x.x driver.<br>
10) kernel: raeth: ppe: move hoocks to raeth instead off external code if raeth static build (more consistent code generate).<br>
11) kernel: raeth: move raeth up in link order place (mast be before ppp and wireless modules for more consistent code generate).<br>
12) kernel: net: pppoe: missed check for destination addr in PADT frame processing.<br>
13) kernel: net: core: Remove redundant call to nf_reset in dev_forward_skb.<br>
14) kernel: net: skbuff: reduce struct size if nf_trace disable.<br>
15) kernel: net: exclude skb_recycle code from real build, small codesize reduce.<br>
16) kernel: net: revert route cache garbage collector changes introdused in 3.4.105 (~5% speed regression after this changes).<br>
<br>
<br>
<b>2.0.x</b><br>
1) init.d/goahead: add codel auto qos mode support in WebUI.<br>
2) init.d/goahead: remove simple tos based qos support(use port based or codel instead for).<br>
3) miniupnpd: up to 1.9.20141209 version.<br>
4) igmpproxy: fix init mrDesc.<br>
5) igmpproxy: fix client record find in rt switch table.<br>
6) kernel: arch/ralink: fix mem autodetect if highmem support disabled(limit to 256Mb).<br>
7) kernel: introduce and use generic init task.<br>
8) kernel: mips: backport some upstream fixes.<br>
9) kernel: irq: disallow commit to random entropy pool from every irq(decrease latency).<br>
10) kernel: sched: remove extra static_key*() function indirection.<br>
11) kernel: enable BQL/DQL by default for 8Mb flash with DDR RAM devices(decrease latency).<br>
12) kernel: fastpath: cleanup and small optimize.<br>
13) kernel: inetdevice: fixed signed integer overflow.<br>
14) kernel: neigh: remove dynamic neigh table registration support.<br>
15) kernel: lib/idr: update to current 3.18 tree (compat mode).<br>
16) kernel: net/raeth: small cleanup.<br>
17) kernel: net: avoid to hang up on sending due to sysctl configuration overflow.<br>
18) kernel: net: ipmr: limit MRT_TABLE identifiers.<br>
19) kernel: net: net_sched: backport codel/fq_codel from 3.17 kernel tree.<br>
20) kernel: net: performance fix for process_backlog.<br>
21) kernel: net: reduce net_rx_action() latency to 2 HZ.<br>
22) kernel: net: remove wrong initialization for snd_wl1.<br>
23) kernel: pkt_sched: avoid requeues if possible.<br>
24) kernel: net_sched: more precise pkt_len computation.<br>
25) kernel: net_sched: better precise estimation on packet length for untrusted packets.<br>
26) kernel: tcp: allow for bigger reordering level.<br>
27) kernel: tcp: fix possible NULL dereference in tcp_vX_send_reset().<br>
28) kernel: tcp: tcp_make_synack() consumes dst parameter.<br>
29) kernel: tcp: remove unused tw_cookie_values from tcp_timewait_sock.<br>
30) kernel: tcp: remove TCPCT.<br>
31) kernel: tcp: use TCP_SKB_CB(skb)->tcp_flags in input path.<br>
32) kernel: tcp: use tcp_flags in tcp_data_queue().<br>
33) kernel: tcp: do not copy headers in tcp_collapse().<br>
34) kernel: tcp: remove bad timeout logic in fast recovery.<br>
35) kernel: tcp: be more strict before accepting ECN negociation.<br>
36) kernel: tcp: RFC6298 supersedes RFC2988bis.<br>
37) kernel: tcp: Increase timeout for SYN segments.<br>
38) kernel: tcp: ecn: dont delay ACKS after CE.<br>
39) kernel: tcp: Remove redundant code entering quickack mode.<br>
40) kernel: ipv4: gso: send_check() & segment() cleanups.<br>
41) kernel: ipv6: fix 'inet6_rtm_getroute' to release 'rt->dst' in case of 'alloc_skb' failure.<br>
42) kernel: ipv6: gso: remove redundant locking.<br>
43) kernel: netfilter: cttimeout: fix buffer overflow.<br>
44) kernel: netfilter: nf_conntrack: add nf_ct_timeout_lookup.<br>
<br>
<br>
<b>2.1.x</b><br>
1) toolchain: update kernel headers and gcc up to 4.8.4 release.<br>
2) busybox: update to 1.23.0 version.<br>
3) busybox: sync with upstream (busybox-1.23.0-ash.patch, busybox-1.23.0-modprobe.patch, busybox-1.23.0-vi.patch).<br>
4) busybox: downgrade zcip code to 1.22.x version(easy fix new gcc issue, need rewrite later).<br>
5) busybox: fix create char device /dev/mtdX as block device (child for /dev/mtdblockX).<br>
6) xz: up to 5.0.8 version.<br>
7) uboot: update to last version.<br>
8) reg tool: small fixup.<br>
9) mii tool: fixup and add 7628 support.<br>
10) gpio tool: fix 9532 mode support.<br>
11) nvram lib: do not direct read from flash at show.<br>
12) nvram tool: fix generate wifi config.<br>
13) switch tool: add igmp snooping managment.<br>
14) hw_nat: FoE entry range check, entry valid check.<br>
15) pppd: fix segfault pppol2tp plugin on IPv6 disabled (broken L2TP).<br>
16) xupnpd: update to 403r.<br>
17) xupnpd: lua: update to 5.3.0 version.<br>
18) init.d: more enchange esw/vlan config logic.<br>
19) init.d: ipv6: only tunnel mode need full deconfig in some situations.<br>
20) init.d/goahead: add support native ipv6 with dhcp client mode.<br>
21) dhcp6c: fix duid generate for WAN (temp hack, add read from commandline in future).<br>  
22) radvd: update to 2.10 version.<br>
23) kernel: ralink: prepare 7621 support.<br>
24) kernel: ralink_spi: add N25Q256A and MT25QL512AB support.<br>
25) kernel: ralink spi: fix write after unprotect bits clear, fix Winbond quad mode.<br>
26) kernel: ralink_gpio: switch to schedule_work.<br>
27) kernel: ralink_gpio: fix 9532 mode support.<br>
28) kernel: ralink_gpio: disable unused interfaces for use more gpio pins.<br>
29) kernel: ralink_wifi: add drivers for 7610/76x2 pci-e chips.<br>
30) kernel: ralink_wifi: fix support 7650 chips.<br>
31) kernel: raeth: add 802.3az EEE control for MT7620 ESW, disable EEE by default for all PHY.<br>
32) kernel: ralink ehci: add workaround for embedded synopsys host controller.<br>
33) kernel: ralink arch: add MT7621 xHCI platform device, add MT7621/MT7628 UPHY calibration.<br>
34) kernel: ralink arch: usb: xhci: add support MT7621 xHCI HC.<br>
35) kernel: netfilter: nf_conntrack: allow server to become a client in TW handling.<br>
36) kernel: netfilter: conntrack: avoid zeroing timer.<br>
37) kernel: net: rearrange loop in net_rx_action.<br>
38) kernel: net: gro: GRO_MERGED_FREE consumes packets.<br>
39) kernel: net: gro: fix a potential crash in skb_gro_reset_offset.<br>
40) kernel: net: gro: dev_gro_receive() cleanup.<br>
41) kernel: net: gro: avoid double copy in skb_gro_receive().<br>
42) kernel: net: skbuff: don't zero tc members when freeing skb.<br>
43) kernel: net_dma: simple removal (broken and not used).<br>
44) kernel: net_dma: revert copied_early.<br>
45) kernel: ipv4: dst_entry leak in ip_send_unicast_reply().<br>
46) kernel: mm: fix swapoff hang after page migration and fork.<br>
47) kernel: tun: fixed unsigned/signed comparison.<br>
48) kernel: ipv6: stop sending PTB packets for MTU < 1280.<br>
<br>
<br>
<b>2.2.x</b><br>
1) build_system: add some variants for 7620 based dual band.<br>
2) libevent: up to 2.0.22 version.<br>
3) openssl up to 0.9.8ze version.<br>
4) nvram: add VHT parametrs for AC module.<br>
5) igmpproxy: optimize retry timeouts.<br>
6) init.d/goahead: add select mode 2.4GHz/5GHz for mbssid/apcli/wds extensions.<br>
7) goahead: boost ipaddress buffer size.<br>
8) goahead: tune default parametrs (increase preallocated bufferss and others).<br>
9) goahead: webui: add allow acess to lan from internet by ipv6 option.<br>
10) goahead: webui: rearrange some parametrs (more consistent).<br>
11) goahead: fix apply netfilter rules in some situations.<br>
12) goahead: fix redirect submit-url issue (may be crash or not correct redirects).<br>
13) goahead: fix selected STA disconnect for dual band in connected client list.<br>
14) goahead: fix green ap mode in WebUI.<br>
15) goahead: fix channel autoselect for 5GHz.<br>
16) goahead: add support AC modes in connected client list.<br>
17) goahead: add band 2.4/5GHz highlighting in connected client list.<br>
18) goahead: add 5GHz band network mode/name parametrs.<br>
19) goahead: add 5GHz band network central channel parametr.<br>
20) goahead: add VHT mode parametrs for AC module in WebUI.<br>
21) kernel: ralink arch: add support SD/MMC driver for MT7620/MT7621/MT7628.<br>
22) kernel: net: skb_share_check() should use consume_skb().<br>
23) kernel: mips: irq: fix disable_irq on CPU IRQs.<br>
24) kernel: mips: fix restart of indirect syscalls.<br>
25) kernel: mips: fix kernel lockup or crash after CPU offline/online.<br>
26) kernel: mips: remove race window in page fault handling.<br>
<br>
<br>
<b>2.3.x</b><br>
1) toolchain: gcc up to 4.8.5-20150129 (after 4.8.4 only backport fixes).<br>
2) dropbear: up to 2015.67 version.<br>
3) eth_mac: add support wlan/wlan2 mac managment.<br>
4) apps: add iw tool to build tree.<br>
5) kernel: up to 3.4.106 version.<br>
6) kernel: ralink_wifi: up 7610 driver to 3.0.0.8 version.<br>
7) kernel: ralink_wifi: fix ate work in extpa/extlna mode.<br>
8) kernel: sched/completion: add lock-free checking of the blocking case.<br>
9) kernel: mips: allow MIPS_CPU_SCACHE to be used with different line sizes.<br>
10) kernel: mips: smp-mt,smp-cmp: Enable all HW IRQs on secondary CPUs.<br>
11) kernel: mips: mt: proc: Add support for printing VPE and TC ids.<br>
12) kernel: mips: synchronize MIPS count one CPU at a time.<br>
13) kernel: mips: vpe.c: Fix null pointer dereference in print arguments.<br>
14) kernel: mips: remove gic_{enable,disable}_interrupt().<br>
15) kernel: mips: gic: remove gic_{pending,itrmask}_regs.<br>
16) kernel: mips: gic: remove platform irq_ack/irq_eoi callbacks.<br>
17) kernel: mips: gic: implement commit MIPS: IRQ: Fix disable_irq on CPU IRQs.<br>
18) kernel: mips: gic: fix gic_set_affinity() return value.<br>
19) kernel: pci: fix P2P bridge I/O port window sign extension.<br>
20) kernel: pci/portdrv: remove warning about invalid IRQ for hot-added PCIe ports.<br>
21) kernel: ipv4: remove output route check in ipv4_mtu.<br>
22) goahead: do not set FixedTxMode if MCS not limited/auto.<br>
23) goahead: hide some VHT options for parametrs fixed at 1T1R.<br>
24) goahead: split disable wifi modules, TxPower parametrs by band.<br>
25) goahead: move select band for ViF modes from advanced to basic.<br>
26) goahead: fix infinitive loop with high cpu usage in websGetInput.<br>
27) goahead: fix potentional security issue (extend path check in url req handler).<br>
28) goahead: fix info leak in socket reuse code.<br>
29) goahead: fix return web error code in some case.<br>
30) goahead: limit request ring length.<br>
31) init.d: add change wlan/wlan2 macs in factory.<br>
<br>
<br>
<b>2.4.x</b><br>
1) build_system: add test targets for usb devices.<br>
2) build_system: correct entry point for 7621 at make image.<br>
3) libcurl: up to 7.40.0 version.<br>
4) transmission: up to 2.84.<br>
5) usb-modeswitch: up to 2.2.1 version (data up to 20150115).<br>
6) ethtool: up to 3.18 version.<br>
7) quagga: up to 0.99.23.1 version.<br>
8) firmware: add factory backup to 7621 dualwan.<br>
9) libnvram: fix small memleak, full code review and cleanup.<br>
10) ethtool: disable build vendors extensions (decrease size).<br>
11) apps: add fuse ntfs-3g (2014.2.15).<br>
12) dhcpv6: add read ifname for duid generatr from /tmp/wan_if_name exported from init.d.<br>
13) eth_mac: add 7621 dualwan support.<br>
14) apps: add irqbalance for auto balancing irq by cpu cores (19.02.2015 git).<br>
15) nvram_tool: remove all old ralink_init call, use nvram_* commands instead(code cleanup).<br>
16) switch_tool: fix wait timeouts and code cleanup.<br>
17) busybox: apply busybox-1.23.1-wget.patch, busybox-1.23.1-modinfo.patch.<br>
18) igmpproxy: fix snooping work at 7621 with GMAC2 config.<br>
19) goahead: fix hide enable 5GHz module issue.<br>
20) goahead: annotate console error message.<br>
21) goahead: add 1Gbit link status.<br>
22) goahead: fix error messages at call external scripts in some case.<br>
23) goahead: full remove WPS support (very old dead code for hackless option).<br>
24) goahead: add configure vlan double tag (QinQ) support in WebUi.<br>
25) init.d: cheanup and refactor checkconf, remove unneded backup nvram and others.<br>
26) init.d: rework for support dual phy mode.<br>
27) init.d: add 7530 switch portmap configure support.<br>
28) init.d: rework switch part config logic.<br>
29) init.d: do not insert eth3 to br0 in bridge/apcli modes(fix loop and not need switch allready parted as LLLLL).<br>
30) init.d: rework fullreset and defaults managment logic.<br>
31) kernel: add mtune options for ralink/mediatek cpus.<br>
32) kernel: ralink_mtd: fix overflow bug in 'ra_mtd_write_nm', add support write to NAND flash, add support write to any partition offset.<br>
33) kernel: ralink_mtd: fix SPI clock for MT7621.<br>
34) kernel: ralink mtd: add MT7621 NAND driver (based on kernel NAND framework).<br>
35) kernel: ralink_arch: update MT7621 code.<br>
36) kernel: ralink_arch: increase PCIe N_FTS for MT7620 too.<br>
37) kernel: ralink_arch: fix MT7621 performance impact on activate sleep mode (use divider 2 instead of 10).<br>
38) kernel: ralink arch: fix MT7621 GIC init on MIPS_MT disabled.<br>
39) kernel: ralink arch: fix detect RAM/OCP on MT7621.<br>
40) kernel: ralink_wifi: align and merge OID structure RT_802_11_MAC_TABLE to userspace applications.<br>
41) kernel: ralink_wifi: update firmware for 76x2 module.<br>
42) kernel: ralink_wifi: add log connect/disconnect events.<br>
43) kernel: ralink_wifi: fix build correct without DBG defined.<br>
44) kernel: ralink_wifi: desintegrate AP_QLOAD and chanbusytime in ap_autoChSel.<br>
45) kernel: ralink_wifi: remove bogus flag VCORECAL_SUPPORT from MT7612E profile.<br>
46) kernel: ralink_wifi: MT7612E/MT7602E: disable eFuse by default.<br>
47) kernel: ralink_wifi: MT7612E/MT7602E: code cleanup and fix warnings.<br>
48) kernel: ralink_wifi: MT7612E/MT7602E: fix HT client speed issue (backport from MT7603 v4 driver).<br>
49) kernel: ralink_hw_nat: fix offload from MT7612/MT7602/MT7603 apcli/wds, add interfaces hash table.<br>
50) kernel: ralink_hw_nat: fix broken code with MT7621 HW_VLAN_RX raeth offload, fix PPPoE offload on MT7621/RT3883 with 2xGMAC + VLAN incapsulated.<br>
51) kernel: ralink_raeth: update MT7621 code & switch control, do not hard-coded disabling EEE by default.<br>
52) kernel: ralink_raeth: serializing MDIO access on multithread environment (fix MII registers corruption).<br>
53) kernel: ralink_raeth: add kernel option for disable preconfigure p5/p6 at ifup.<br>
54) kernel: ralink_raeth: switch control: enhance MT7621 ESW MIB counters.<br>
55) kernel: ralink_raeth: switch control: improve support MT7620/MT7621 HW IGMP/MLD snooping, add IGMP static port control for AP mode.<br>
56) kernel: ralink_usb: fix broken MT7621 USB PHY calibration (SDK bug).<br>
57) kernel: ralink_sd: MT7620/MT7621/MT7628 SD/MMC driver cleanup, fix unload module with debug enabled.<br>
58) kernel: ralink_gpio: add usb lid blink at usb transfer.<br>
59) kernel: ralink_nvram: add options for config dualband mode nvram(one or different offsets).<br>
60) kernel: huge update NAND framework from upstream.<br>
61) kernel: exfat: add module alias for fix automount.<br>
62) kernel: ipv4: ip_check_defrag should correctly check return value of skb_copy_bits.<br>
63) kernel: ipv6: fix ipv6_cow_metrics for non DST_HOST case.<br>
64) kernel: igmp: add __ip_mc_{join|leave}_group().<br>
65) kernel: pci: leave MEM and IO decoding disabled during 64-bit BAR sizing, too.<br>
66) kernel: sg: fix read() error reporting.<br>
<br>
<br>
<b>2.5.x</b><br>
1) toolchain: apply build root patchset binutils/uclibc.<br>
2) toolchain: sync uclibc patches, update gcc to 19.02.2015 4.8.5 version form git, update headers.<br>
3) build_system: libs: try build more libs only as shared (do not install static libs to romfs if not need).<br>
4) build_system: libs: add libxml2, libneon.<br>
5) build_system: libs: use gc section for external libs.<br>
6) build_system: apps: add davfs2.<br>
7) uboot: fix recovery work at more then 8Mb flash devices.<br>
8) libcurl: up to 7.41.0 version.<br>
9) samba: remove old 2.0 version of samba, always use 3.0.37.<br>
10) goahead: use fs restore instead of direct call mtd_write erase RW-FS.<br>
11) goahead: remove drop targets in nat table (new kernel not support this, only filter table use).<br>
12) goahead: fix ipportfilter,portforward not correct save in some cases.<br>
13) goahead: hide software fastpath elements if not build in kernel.<br>
14) init.d: unify swicth portmap logic.<br>
15) init.d: fix vlan enabled check.<br>
16) init.d: optimize switch reinit procesure.<br>
17) init.d: more human readable variable name and prevent overwrites in dependen logic.<br>
18) init.d: touch switch in some cases make depend at switch parth instead of direct mode check.<br>
19) init.d: remove switch reinit workarounds after reath and hw_nat pathcs.<br>
20) init.d: fix check vlan and set correct part sitch mode.<br>
21) init.d: fix drop some variables in full bridge modes.<br>
22) init.d: send hotplug rescan to background (speedup boot).<br>
23) init.d: tune irqbalance script for optimum performance.<br>
24) kernel/uboot: add 25Q*BSIG flash chips support.<br>
25) kernel: review fastpath section use (save more cpu ~4% up).<br>
26) kernel: pppoe: use workqueue to die properly when a PADT is received.<br>
27) kernel: ralink_arch: update cpu-feature-overrides.h.<br>
28) kernel: ralink_arch: MT7621 move irq function to fastpathsys.<br>
29) kernel: ralink_arch: add prototype to enable I/O coherency.<br>
30) kernel: ralink_hw_nat: do not touch MT7620 ESW P6/P7 PCR for case dumb switch.<br>
31) kernel: ralink_raeth: skip redundant dma_cache_sync to coherence region of rx_desc.<br>
32) kernel: ralink_raeth: switch control: fix VLAN filtering on MT7621 ESW with GE2->P5 case.<br>
33) kernel: ralink_wifi: MT7612E/MT7602E: fix rate_pwr_table initialization bug.<br>
34) kernel: mips: avoid mcheck by flushing page range in huge_ptep_set_access_flags().<br>
35) kernel: mips: fix branch emulation of branch likely instructions.<br>
36) kernel: mips: add option to disable software I/O  coherency.<br>
37) kernel: mips: reduce code size for MIPS32R2 platforms.<br>
38) kernel: mips: dsp: add assembler support for DSP ASEs.<br>
39) kernel: mips: dsp: simplify the DSP macros.<br>
40) kernel: mips: dsp: fix code generation for non-DSP capable CPUs.<br>
41) kernel: mips: revert remove race window in page fault handling.<br>
42) kernel: genirq: introduce irq_do_set_affinity() to reduce duplicated code.<br>
43) kernel: genirq: allow forcing cpu affinity of interrupts.<br>
44) kernel: genirq: provide irq_force_affinity fallback for non-SMP.<br>
45) kernel: genirq: set initial affinity in irq_set_affinity_hint().<br>
46) kernel: net: fix stacked vlan offload features computation.<br>
47) kernel: net: reject creation of netdev names with colons.<br>
48) kernel: net: tcp: fix tcp_should_expand_sndbuf() to use tcp_packets_in_flight().<br>
49) kernel: net: tcp: tso: remove tp->tso_deferred.<br>
50) kernel: net: tcp: tso: allow CA_CWR state in tcp_tso_should_defer().<br>
51) kernel: net: ipv6: addrconf: validate new MTU before applying it.<br>
52) kernel: net: allow enable/disable XPS/RPS configure.<br>
53) kernel: net: neigh: don't require dst in neigh_hh_init.<br>
54) kernel: net: neigh: don't require a dst in neigh_resolve_output.<br>
55) kernel: net: udp: only allow UFO for packets from SOCK_DGRAM sockets.<br>
56) kernel: netfilter: FCONE/RCONE optimization (do not compare ifname), allow eth3.x as WAN/MAN.<br>
57) kernel: make READ_ONCE() valid on const arguments.<br>
<br>
<br>
<b>2.6.x</b><br>
1) toolchain: sync uclibc patches, update gcc to 12.03.2015 4.8.5 version form git, update headers.<br>
2) build system: move gpio config to kernel config.<br>
3) build system: split defaults for 762x with 7612NE module.<br>
4) miniupnpd: up to 1.9.20150307 version.<br>
5) quagga: up to 0.99.24.1 version.<br>
6) pppd: fix disconnect socket regression after kernel pppoe sockets cleanup fix.<br>
7) goahead: restore factory mac if try set invalid mac from web.<br>
8) goahead: add button for restore factory mac.<br>
9) init.d: enchange boot indications.<br>
10) init.d: ipv6: fix IPOE v6 mode with tunneled WAN for v4.<br>
11) init.d: irqbalance: tune modes and enable auto by defaults.<br>
12) init.d: move ripd/zebra config from goahead to init.<br>
13) init.d: wifi.sh: touch Channel by iwpriv (aplci connect after apply workaround).<br>
14) init.d: fs: add factory_mac command for restore macs in nvram by factory.<br>
15) kernel: fastpaths: add disable nat fastpath option, small optimize.<br>
16) kernel: fastpaths: fix locks imbalance issue (lost unlock in output).<br>
17) kernel: fastpaths: fastnat switch use cb[43] for deny flag (more fast and safe).<br>
18) kernel: fastpaths: optimize skip nat offload logic.<br>
19) kernel: fastpaths: clear in ip_input CB only for loopback packets.<br>
20) kernel: ralink_raeth: add support GRO offload.<br>
21) kernel: ralink_raeth: fix potential deadlock on unregister second interface.<br>
22) kernel: ralink_raeth: fix reuse dirty TX descriptor.<br>
23) kernel: ralink_raeth: use memory barrier instead of double cache sync on coherent region.<br>
24) kernel: ralink_hw_nat: use memory barrier instead of double flush to coherent region.<br>
25) kernel: ralink_hw_nat: change BIND state after update FoE entry.<br>
26) kernel: mips: allow optimized inliming.<br>
27) kernel: mips: revert fixrange_init() limiting to the FIXMAP region.<br>
28) kernel: mips: highmem fixes for cache aliasing and non-DMA I/O.<br>
29) kernel: mips: fix of reading I-pages from non-DMA FS devices for ID cache separation.<br>
30) kernel: mips: bugfix: missed cache flush of TLB refill handler.<br>
31) kernel: mips: tlbex: Fix size of area to be flushed.<br>
32) kernel: mips: iomap: use __mem_{read,write}{b,w,l} for MMIO.<br>
33) kernel: mips: apply `.insn' to fixup labels throughout.<br>
34) kernel: net: inet: sanitize inet{,6} protocol demux.<br>
35) kernel: net: make skb->skb_iif always track skb->dev.<br>
36) kernel: net: remove protocol from struct dst_ops.<br>
37) kernel: net: ipv6: make unsolicited report intervals configurable for mld.<br>
38) kernel: net: ipv6: mld: fix v1/v2 switchback timeout to rfc3810, 9.12.<br>
39) kernel: net: ipv4: disallow non-namespace aware protocols to register only if namespaces enabled.<br>
40) kernel: net: ipv4: raise tcp PMTU probe mss base size.<br>
41) kernel: net: ipv4: ip_check_defrag should not assume that skb_network_offset is zero.<br>
42) kernel: net: ipv4: use binary search to choose tcp PMTU probe_size.<br>
43) kernel: net: ipv4: create probe timer for tcp PMTU as per RFC4821.<br>
44) kernel: net: neigh: keep neighbour cache entries if number of them is small enough.<br>
45) kernel: net: neigh: optimize neighbor entry size calculation.<br>
46) kernel: net: neigh: no need to call lookup_neigh_parms in neigh_parms_alloc.<br>
47) kernel: net: neigh: disallow un-init_net to change thresh of neigh.<br>
48) kernel: net: netfilter: nf_conntrack: use RCU safe kfree for conntrack extensions.<br>
49) kernel: net: netfilter: nf_conntrack: fix RCU race in nf_conntrack_find_get.<br>
50) kernel: net: bridge: reset bridge mtu after deleting an interface.<br>
51) kernel: net: packet: make packet_snd fail on len smaller than l2 header.<br>
52) kernel: net: neighbour: fix ndm_type type error issue.<br>
53) kernel: timekeeping: Fix HRTICK related deadlock from ntp lock changes.<br>
54) kernel: sched/__wake_up_sync_key(): Fix nr_exclusive tasks which lead to WF_SYNC clearing.<br>
55) kernel: sched: fix HRTICK.<br>
<br>
<br>
<b>2.6.x</b><br>
1) butcheck: add polling WPS press and call umount all script if pressed(if support storage configured).<br>
2) openssl: up to 0.9.8zf version.<br>
3) init.d: disable EEE by defaults (compat with old boots).<br>
4) init.d: fix logging if syslog disabled.<br>
5) xupnpd: switch to 5.1.x lua use (fix compat with last portable upnpd sdk with bug utf locale parse).<br>
6) xupnpd: use mpeg as default mime type (more devices compat whith this type).<br>
7) xupnpd: impliment base profile for Panasonic Viera(need manual default mime set to mpeg_ts now).<br>
8) xupnpd: auto use udpxy if enabled.<br>
9) goahead: add ldpc to station list.<br>
10) kernel: ralink_raeth: enable NAPI_GRO for all devices.<br>
11) kernel: ralink_wifi: unify exported struct.<br>
12) kernel: ralink_gpio: add config WPS button gpio number.<br>
13) kernel: ralink_arch: fix reset MT7621 PCIe peripherals.<br>
14) kernel: ralink_spi: fix SPI clock for MT7621 (bclk is 50MHz).<br>
15) kernel: netfilter: nf_nat: change sequence number adjustments to 32 bits.<br>
16) kernel: nf_conntrack_core: show conntrack limit value on table full.<br>
17) kernel: net: allow GRO only for local recived packets.<br>
18) kernel: net: add skb_dst_set_noref_force.<br>
19) kernel: net: tcp: fix tcp fin memory accounting.<br>
20) kernel: net: increase sk_[max_]ack_backlog.<br>
21) kernel: net: validate the range we feed to iov_iter_init() in sys_sendto/sys_recvfrom.<br>
22) kernel: net: separate the close_list and the unreg_list.<br>
23) kernel: net: fix high overhead of vlan sub-device teardown.<br>
<br>
<br>
<b>2.7.x</b><br>
1) build_system: small rework DoConfigure.sh scripts.<br>
2) init.d: six: fix logic dhcpv6/radvd configure if not prefix recived (experimental).<br>
3) init.d: six: always remove sit module in stop path (auto loaded after call ip tool).<br>
4) dhcpv6: fix renewal of IA NA.<br>
5) dhcpv6: close file descriptors on exec.<br>
6) dhcpv6: try and generate a default IFID only if an IFID is not configured.<br>
7) dhcpv6: ignore advertise messages with none of requested data and missed status codes.<br>
8) kernel: ralink_wifi: disable 40MHz intolerant support if DRAFT3 undefined.<br>
9) kernel: ralink_hw_nat: exclude UDP bug check for MT7621.<br>
10) kernel: ralink_raeth: fix SG regression.<br>
11) kernel: net: af_packet: make tpacket_rcv to not set status value before run_filter.<br>
12) kernel: net: ipmr,ip6mr: call ip6mr_free_table() on failure path.<br>
13) kernel: net: netfilter: bridge: kill nf_bridge_pad.<br>
14) kernel: net: ipv6: Don't reduce hop limit for an interface.<br>
<br>
<br>
<b>2.8.x</b><br>
1) toolchain: update gcc to 07.04.2015 4.8.5 version form git, update headers.<br>
2) defaults: set safe VHT options for all 802.11ac modules(disable BW_SIG/LDPC/STBC).<br>
3) init.d: fix usb hotplug/automount.<br>
4) udhcpc: fix static routes apply in some cases.<br>
5) goahead: fix lang select race in some situations.<br>
6) goahead: fix upload firmware error handling.<br>
7) goahead: set HT_LDPC as VHT_LDPC (unify webUI control).<br>
8) nvram: fix store old macs.<br>
9) kernel: ralink_raeth: add support MT7621 QDMA, split PDMA/QDMA code, code refactoring.<br>
10) kernel: ralink_raeth: force up MAC for each ESW PHY.<br>
11) kernel: ralink_raeth: fix wireless/external offload concurrent with BQL (recycle TX to PPE stuck issue).<br>
12) kernel: ralink_raeth: do not ack INT status on NAPI poll active (MT7621 GIC pending INT issue).<br>
13) kernel: ralink_hw_nat: add support MT7621 QDMA, write FoE descriptors by DWORD chunk.<br>
14) kernel: ralink_hw_nat: add support MT7621 multicast offload.<br>
15) kernel: ralink_hw_nat: optimize mark/test DPORT_PPE.<br>
16) kernel: ralink_arch: fix typo in MT7621 PCIe interrupts map.<br>
17) kernel: ralink_wifi: fix MT7610/12/02/03 bug on set FixedTxMode.<br>
18) kernel: mips: fix race condition in lazy cache flushing.<br>
19) kernel: jump_label: split jumplabel ratelimit.<br>
20) kernel: jump_label: allow asm/jump_label.h to be included in assembly.<br>
21) kernel: jump_label: allow jump labels to be used in assembly.<br>
22) kernel: conntrack: fix one way voice issue if SIP ALG enabled.<br>
23) kernel: netfilter: fix issue of some SIP Providers use only port 5060 for send/listen calls.<br>
24) kernel: net: less interrupt masking in NAPI.<br>
25) kernel: net: move napi polling code out of net_rx_action.<br>
26) kernel: net: always poll at least one device in net_rx_action.<br>
27) kernel: net: remove k{un}map_skb_frag().<br>
28) kernel: net: simple_strtoul cleanup.<br>
29) kernel: net: dont drop packet but consume it.<br>
<br>
<br>
<b>2.9.x</b><br>
1) build_system: toolchain: add support auto install needed pkgs in ubuntu.<br>
2) build_system: fix build libext dependency.<br>
3) build_system: fix build libc headers (use -isystem instead of -I for correct dependency).<br>
4) build_system: fix build flags change for uclibc.<br>
5) build_system: move nvram/mtd headers include from different make files to config.arch.<br>
6) build_system: enable -Bsymbolic-functions by default for linking shared libs.<br>
7) init.d: global.sh small cleanup.<br>
8) init.d: move dhcpv6 client config and start to /etc/init.d/six.<br>
9) init.d: optimize refresh device nodes, hotplug rescan and preinit scripts.<br>
10) init.d: initial support ipv6 dual stack native mode over PPPOE/PPTP/L2TP.<br>
11) init.d: more readable system info export from lldp.<br>
12) defaults: allow use VHT_STBC/LDPC for MT7612 module.<br>
13) defaults: allow use VHT_STBC for MT7610 module.<br>
14) radvd: up to 2.11 version.<br>
15) dnsmasq: up to 2.73rc7 version.<br>
16) ntfs-3g: up to 2015.3.14 version.<br>
17) miniupnpd: up to 1.9.20150427 version.<br>
18) igmpproxy: use daemon function instead of direct coding.<br>
19) udpxy: fix work at 3.5.x and more new linux kernels.<br>
20) pppd: do not build ipx support if not enabled in kernel.<br>
21) lldpd: up to 0.7.14 version.<br>
22) dhcp6c: do not open a routing socket that's never used.<br>
23) dhcp6c: more compath with new uclibc/glibc.<br>
24) goahead: do not touch HT_LDPC (not support in clients at real world).<br>
25) goahead: allow select VHT_STBC mode for 7610 module.<br>
26) goahead: more localization fixes.<br>
27) goahead: add lan_port variable (default near) for tune ports numbers in UI and real box.<br>
28) kernel: up to 3.4.107 version.<br>
29) kernel: configs: enable inotify support(now used for dnsmasq for detect hosts/resolv files changed).<br>
30) kernel: ralink_wifi: fix support VHT in apcli mode for MT7612.<br>
31) kernel: ralink_wifi: disable VHT in WEP encryption mode for apcli(more compat with wifi aliance recomendtions).<br>
32) kernel: ralink_wifi: fix kernel api mismatch u(g)id types to u(g)id_t.<br>
33) kernel: ralink_wifi: allow mac address changes.<br>
34) kernel: ralink_wifi: MT7612 fix LastTxRate update.<br>
35) kernel: ralink_wifi: MT76xx anonse 40MHz SGI only if 40MHz BW enabled.<br>
36) kernel: ralink_wifi: MT76x2 improve parse 7602/7612 pair as first/second card.<br>
37) kernel: ralink_wifi: MT76x2 exclude debug in release mode.<br>
38) kernel: ralink_wifi: convert wmode to cfgmode on RT_OID_GET_PHY_MODE for MT7610/76x2, fix wmode_2_cfgmode.<br>
39) kernel: drop bogus check in file_open_root().<br>
40) kernel: mips: dma-default: fix 32-bit fall back to GFP_DMA.<br>
41) kernel: mips: hibernate: flush TLB entries earlier.<br>
42) kernel: mips: bitops.h: Avoid inline asm for constant FLS.<br>
43) kernel: net: gro: should be ECN friendly.<br>
44) kernel: net: gro: should aggregate frames without DF.<br>
45) kernel: net: add address assign type "SET".<br>
46) kernel: net: init perm_addr in register_netdevice().<br>
47) kernel: ethtool: set addr_assign_type to NET_ADDR_SET when addr is passed on create.<br>
48) kernel: ethtool: consolidate work with ethtool_ops.<br>
49) kernel: ethtool: make .get_dump_data() harder to misuse by drivers.<br>
50) kernel: netfilter: ctnetlink: fix leak in error path of ctnetlink_create_expect.<br>
51) kernel: netfilter: ctnetlink: don't permit ct creation with random tuple.<br>
52) kernel: netlink: validate addr_len on bind.<br>
53) kernel: netlink: change presentation of portid in procfs to unsigned.<br>
54) kernel: rtnetlink: fix error return code in rtnl_link_fill().<br>
55) kernel: bridge: use dev->addr_assign_type to see if user change mac.<br>
56) kernel: inetpeer: fix token initialization.<br>
57) kernel: ipv4: use standard iovec primitive in raw_probe_proto_opt.<br>
58) kernel: mips: fix start of free memory when using initrd.<br>
59) kernel: pppoe: lacks DST MAC address check.<br>
60) kernel: ppp: unset skb checksum complete in ppp_receive_frame.<br>
61) kernel: ppp: mppe: sanity error path rework.<br>
62) kernel: ppp: mppe: discard late packet in stateless mode.<br>
63) kernel: ip_forward: drop frames with attached skb->sk.<br>
64) kernel: tcp: fix possible deadlock in tcp_send_fin().<br>
65) kernel: dql: dql_queued() should write first to reduce bus transactions.<br>
<br>
<br>
<b>3.0.x</b><br>
1) toolchain: update gcc to 26.05.2015 4.8.5 version form git, update headers.<br>
2) uboot: update to 4.3.2.0 version.<br>
3) configs: enable hw_nat ipv6 support for all devices.<br>
4) configs: enable ipt_accounting support for all devices with flash > 4Mb.<br>
5) igmpproxy: fix switch managment.<br>
6) switchtools: add vlan clear command.<br>
7) miniupnpd: up to 1.9.20150430 version.<br>
8) libcurl: up to 7.42.1 version.<br>
9) dnsmasq: up to 2.73rc8 version.<br>
10) busybox: udhcpc: use RFC2132-compliant T2 expired timer on 7/8 lease time.<br>
11) goahead: in webui add VPN/WAN ipv6 uplink switch.<br>
12) goahead: cleaning and fixing network web forms.<br>
13) goahead: move radvd and dhcp6s services to ipv6 page.<br>
14) goahead: enable ipt_accounting page.<br>
15) goahead: add decription to dhcp static leases.<br>
16) goahead: automatic disable pure pppoe at disable/switch type VPN.<br>
17) goahead: review, cleanup and fix dhcp server page.<br>
18) goahead: fix nvram_init/commit unconsistent.<br>
19) goahead: more translation fixes.<br>
20) goahead: webui some fixes wireless basic.<br>
21) goahead/init.d: store dhcp static lease to nvram.<br>
22) init.d: full cleanup vlan parts in restore dumb mode function.<br>
23) init.d: remove disable_all_ports_eee (already disabled in raeth).<br>
24) init.d: iptables: split v4 rules generate code for more readable and more easy edit.<br>
25) init.d: fix wan config if pure pppoe enabled and vpn full disabled mode.<br>
26) kernel: add MX25L51245G, MT25QL512AB, N25Q256A spi flashs support.<br>
27) kernel: ralink_arch: disable MT7621 PCIe Spread Spectrum to avoid Ch14 Rx De-sense.<br>
28) kernel: ralink_arch: set MT7628 PCIe PHY to 1.3mA for power saving when PCIe port not used.<br>
29) kernel: ralink_arch: fix MT7628 SDXC clock interferences.<br>
30) kernel: ralink_arch: fix reset MT7621 PCIe peripherals on disable GPIO_PERST def.<br>
31) kernel: ralink_nvram: fix check part size in commit.<br>
32) kernel: ralink_hw_nat: add FoE 80b entries workaround on IPv6 offload enabled.<br>
33) kernel: ralink_hw_nat: disable multicast offload on QDMA enabled (CPU reason is stripped after FQ).<br>
34) kernel: ralink_raeth: fix MT7628 EPHY initialization.<br>
35) kernel: ralink_raeth: always use TX ring size 512 to prevent ring full on PPE loopback traffic.<br>
36) kernel: ralink_raeth: add support MT7621 'clause 45' MDIO control.<br>
37) kernel: ralink_raeth: fix dump MT7621/MT7530 EPHY registers.<br>
38) kernel: ralink_raeth: move early ESW init to global unit.<br>
39) kernel: ralink_raeth: add EEE-related functions, disable EEE by default, fix disable EEE on MT7620 ESW, improve EEE support on MT7621/MT7530.<br>
40) kernel: ralink_raeth: add support to disable any EPHY.<br>
41) kernel: ralink_raeth: improve MT7621 performance on TX path.<br>
42) kernel: exfat driver: upstream updates.<br>
43) kernel: driver core: fix race with userland in device_add().<br>
44) kernel: usb: fix use-after-free bug in usb_hcd_unlink_urb().<br>
45) kernel: usb: serial: fix potential use-after-free after failed probe.<br>
46) kernel: usb: xhci: allocate correct amount of scratchpad buffers.<br>
47) kernel: usb: xhci: fix reporting of 0-sized URBs in control endpoint.<br>
48) kernel: usb: xhci: handle Config Error Change (CEC) in xhci driver.<br>
49) kernel: netfilter: nf_nat_h323: fix crash in nf_ct_unlink_expect_report().<br>
50) kernel: netfilter: nf_ct_sip: extend RCU read lock in set_expected_rtp_rtcp().<br>
51) kernel: netfilter: xt_socket: fix a stack corruption bug.<br>
52) kernel: netfilter: nf_ct_sip: support Cisco 7941/7945 IP phones.<br>
53) kernel: netfilter: xt_time: add support to ignore day transition.<br>
54) kernel: netfilter: Implement RFC 1123 for FTP conntrack.<br>
55) kernel: net: pppoe: drop pppoe device in pppoe_unbind_sock_work.<br>
56) kernel: net: ipt_accounting portted to 3.4 kernel.<br>
57) kernel: net: sysctl_net_core: check SNDBUF and RCVBUF for min length.<br>
58) kernel: net: tcp: update reordering first before detecting loss.<br>
59) kernel: net: tcp: set SOCK_NOSPACE under memory pressure.<br>
60) kernel: net: ipv4: kill ip_rt_frag_needed().<br>
61) kernel: net: ipv4: icmp: fix PMTU handling for rare case.<br>
62) kernel: net: ipv4: remove unnecessary code from rt_check_expire().<br>
63) kernel: net: ipv4: route: fix sending IGMP messages with link address.<br>
64) kernel: net: ipv4: avoid a test in ip_rt_put().<br>
65) kernel: net: ipv4: speedup ip_idents_reserve().<br>
66) kernel: net: ipv4: avoid crashing in ip_error.<br>
67) kernel: net: ipv6: introduce ip6_rt_put().<br>
68) kernel: net: ipv6: stop /128 route from disappearing after pmtu update.<br>
69) kernel: net: ipv6: check RTF_LOCAL on rt->rt6i_flags instead of rt->dst.flags.<br>
70) kenrel: net: ipv6: stop using NLA_PUT*().<br>
71) kernel: net: ipv6: fix handling of blackhole, prohibit, throw routes.<br>
72) kernel: net: ipv6: fib6_rules should return exact return value.<br>
73) kernel: net: ipv4/6: handle PMTU in all ICMP error handlers.<br>
74) kernel: net: sit: always notify change when params are updated.<br>
75) kernel: net: sit: generate icmpv6 error when receiving icmpv4 error.<br>
76) kernel: net: move away from NLMSG_PUT().<br>
77) kernel: net: do not use RTA_PUT() macros.<br>
78) kernel: net: fix pptp regession, use generic tracking for GRE if ALG not loaded and PPTP support builtin.<br>
79) kernel: net: bridge: allow setting hash_max + multicast_router if interface is down.<br>
80) kernel: net: bridge: fix parsing of MLDv2 reports.<br>
81) kernel: net: bridge: skip fdb add if the port shouldn't learn.<br>
82) kernel: net: complete remove Token Ring.<br>
83) kernel: net: ppp: deflate: never return len larger than output buffer.<br>
84) kernel: net: inet: properly align icsk_ca_priv.<br>
<br>
<br>
<b>3.1.x</b><br>
1) toolchain: update gcc to 04.06.2015 4.8.5 version form git, update headers.<br>
2) lldpd: up to 0.7.15 version.<br>
3) dnsmasq: up to 2.73rc10 version.<br>
4) libnatpmp: up to 20150609 version.<br>
5) openssl up to 0.9.8zg version.<br>
6) lldtd: fix wifi speeds for new devices.<br>
7) mtd_write: blink system led at every erase/write flash access.<br>
8) nvram: implement nvram_get_copy to copy get variable mode for use in nvram_renew.<br>
9) nvram: use not copy mode get by default (fix small memleak).<br>
10) nvram: fix nonsplit dualif mode in some cases.<br>
11) defaults: review and fix parametrs in genwlcofig.<br>
12) defaults: if enable autoselect channel - autorescan and select free channel every 24hour by default (7620 and 7612).<br>
13) goahead: fix memory leak at wireless->basic page parse.<br>
14) goahead: fix drop security settings after mode change.<br>
15) goahead: webui: fix ntp status.<br>
16) goahead: add NoForwardingMBCast option for isolate client2client BCAST traffic.<br>
17) goahead: add MaxStaNum for limit maximum connection.<br>
18) goahead: add StationKeepAlive for tune interval to send alive packets to clients for detect dead link.<br>
19) goahead: add IdleTimeout for tune timeout station idle before link set as down.<br>
20) goahead: add select AutoChannel algoritm (1 - select channel by STA count now default, 2 - select channel by rssi).<br>
21) goahead: add ACSCheckTime (rescan interval 0-24h, default 24).<br>
22) goahead: fix extchannel select.<br>
23) goahead: fix load defaults from webui.<br>
24) init.d: cleanup led blink direct calls.<br>
25) init.d: read sysled gpio from kernel config.<br>
26) init.d: more early btn reset check start.<br>
27) init.d: dnsmasq: remove -f (--filterwin2k) no needed now (need only for ppp dial-on-demand support now).<br>
28) init.d: add basic fast roaming parametrs tune support for 76x2 drivers.<br>
29) kernel: ralink_wifi: 7610: add AC mode network type (fix modes in aplist after scan).<br>
30) kernel: ralink_wifi: 7610: increase tx ring size to 256.<br>
31) kernel: ralink_wifi: 7610: add region 22 in a band.<br>
32) kernel: ralink_wifi: 7610: add check payload length in AES/WEP/TKIP.<br>
33) kernel: ralink_wifi: 7610: fix set flags in mcs lut.<br>
34) kernel: ralink_wifi: 7610: for all mcs <= 9 need use 1T1R mode rate table.<br>
35) kernel: ralink_wifi: 7610: cleanup VHT_IE if legacy client connect.<br>
36) kernel: ralink_wifi: 7610: fix beacon IE cap update.<br>
37) kernel: ralink_wifi: 7610: add lost Intel IOT workaround.<br>
38) kernel: ralink_wifi: xxxx: fix potentional null pointer dereference in WMM processing.<br>
39) kernel: ralink_wifi: xxxx: add NoForwardingMBCast option for isolate client2client BCAST traffic.<br>
40) kernel: ralink_wifi: xxxx: review and cleanup dyncvga and microvawe oven detect support.<br>
41) kernel: ralink_gpio: fix use gpio pins shared with extphy/pa.<br>
42) kernel: ralink_arch: NR_IRQS is no longer dependent from BITS_PER_LONG.<br>
43) kernel: mips: irq: use DECLARE_BITMAP.<br>
44) kernel: mips: bmips: fix bmips_wr_vec().<br>
45) kernel: mips: adjust mips highmem offset to avoid the need for -mlong-calls on systems with >256M RAM.<br>
46) kernel: mips: c-r4k: fix typo in probe_scache().<br>
47) kernel: mips: fix enabling of DEBUG_STACKOVERFLOW.<br>
48) kernel: jhash: update jhash_[321]words functions to use correct initval.<br>
49) kernel: sfhash: add generic inline helper for more gcc optimize effect.<br>
50) kernel: mm: use clear_page_mlock() in page_remove_rmap().<br>
51) kernel: mm: remove free_page_mlock.<br>
52) kernel: mm: remove unevictable_pgs_mlockfreed.<br>
53) kernel: net: udp: fix behavior of wrong checksums.<br>
54) kernel: net: bridge: fix multicast router rlist endless loop.<br>
<br>
<br>
<b>3.2.x</b><br>
1) toolchain: update gcc to 4.8.5 release, update headers.<br>
2) toolchain: enhance build reproducability.<br>
3) toolchain: binutils: backport some fixes.<br>
4) uclibc: backport some fixes.<br>
5) dnsmasq: up to 2.73 version.<br>
6) libcurl: up to 7.43.0 version.<br>
7) usb-modeswitch: up to 2.2.3 2015-06-29 version, usb-modeswitch-data up to 2015-06-27.<br>
8) nvram: add AutoChannelSkipList for skip channels from autoselect result (default for 2.4GHz 12;13;14 channel must be skip).<br>
9) nvram: add BandSteering option.<br>
10) nvram: fix get bssid_num.<br>
11) defaults: temp set VHT_BW=20/40MHz for 7610NE, fix issue with some broadcom mobile clients.<br>
12) defaults: tune default QoS rates for currect performane limitts and ISP tarifs.<br>
13) init.d: fix DMZ regression.<br>
14) init.d: add /etc/ip(6)tables.d hooks (see readme for details).<br>
15) init.d: sw_qos: add shaper prio by DSCP in complex qos mode.<br>
16) goahead: unify reboot logic, reboot.sh use always and move to /etc/scripts.<br>
17) goahead: more russian translate fix.<br>
18) goahead: flush conntrack after apply ipport/mac filter rules for start work rules immediately.<br>
19) goahead: fix ipmacfilter default policy set.<br>
20) goahead: fix infinitive reboot wait after opmode switch.<br>
21) goahead: add popup reqest change dhcp settings at lan settings changed.<br>
22) goahead: send SIGUSR2 to udhcpc for ip release before reboot.<br>
23) goahead: add reboot after apcli changes apply (in SDK reboot to, drives issue?).<br>
24) goahead: add reboot counters at apply new mac and apply apcli changes.<br>
25) goahead: add DSCP prio values to qos page.<br>
26) goahead: add auto channel select (auto connect) to apcli page.<br>
27) kernel: up to 3.4.108 base version.<br>
28) kernel: ralink_hw_nat: add module param to control TTL.<br>
29) kernel: ralink_wifi: 7610: fix clean NDP announces.<br>
30) kernel: ralink_wifi: 7610: do not agregate low rate pkts.<br>
31) kernel: ralink_wifi: 7610: fix txburst in AC mode.<br>
32) kernel: ralink_wifi: 7610: apply 3.0.0.8 post pathces from MTK.<br>
33) kernel: ralink_wifi: 76x2: apply 3.0.3.2 post pathces from MTK.<br>
34) kernel: ralink_wifi: 76x2: add band steering options.<br>
35) kernel: ralink_wifi: xxxx: allow SNMP for all drivers.<br>
36) kernel: ralink_wifi: xxxx: fix bandsteering build.<br>
37) kernel: ralink_wifi: xxxx: move dyncvga and microwave oven detect support to MT***_AP_INTERFERENCE_REDUCE kernel options.<br>
38) kernel: ralink_wifi: xxxx: use macros from rt_linux.h for skb->tail manipulations instead of direct coding.<br>
39) kernel: ralink_raeth esw control: FCS bytes really not included to MIB counters.<br>
40) kernel: ralink_raeth esw control: add IOCTL to fetch port bytes.<br>
41) kernel: locking: Remove atomicy checks from {READ,WRITE}_ONCE.<br>
42) kernel: mips: Remove unnecessary platform dma helper functions.<br>
43) kernel: mips: O32/N32: Use compat getsockopt syscall.<br>
44) kernel: usb: cdc_ncm: add support for moving NDP to end of NCM frame.<br>
45) kernel: time: jiffies_delta_to_clock_t() helper to the rescue.<br>
46) kernel: pipe: iovec: fix memory corruption when retrying atomic copy as non-atomic (CVE-2015-1805).<br>
47) kernel: sched/rt: fix memory leak in alloc_rt_sched_group().<br>
48) kernel: stop using NLA_PUT*().<br>
49) kernel: netlink: Add nla_put_xx{16,32,64}() helpers.<br>
50) kernel: net: provide a default dev->ethtool_ops.<br>
51) kernel: net: force a list_del() in unregister_netdevice_many().<br>
52) kernel: net: packet: bail out of packet_snd() if L2 header creation fails.<br>
53) kernel: net: ax25: stop using sock->sk_protinfo.<br>
54) kernel: net: kill sock->sk_protinfo.<br>
55) kernel: net: remove extranous rcu_read_lock.<br>
56) kernel: net: ip_gre: fix possible use after free.<br>
57) kernel: net: ip_gre: remove unnecessary rcu_read_lock/unlock.<br>
58) kernel: net: netfilter: don't use module_init/exit in core IPV4 code.<br>
59) kernel: net: netfilter: remove ip_queue support.<br>
60) kernel: net: netfilter: use kfree_skb() not kfree().<br>
61) kernel: net: bridge: multicast: start querier timer when running user-space stp.<br>
62) kernel: net: bridge: multicast: restore router configuration on port link down/up.<br>
63) kernel: net: bridge: fix br_stp_set_bridge_priority race conditions.<br>
64) kernel: net: bridge: skip BROUTE hook if BRIDGE_EBT_BROUTE module is not enabled.<br>
65) kernel: net: bridge: fix broken ebtables on BRIDGE_NETFILTER disabled.<br>
66) kernel: net: bridge: netfilter: optimization by exclude unused modules.<br>
67) kernel: net: bridge: group bridge code closer with netcore and netfilter (improve performance).<br>
68) kernel: net: bridge: avoid OOPS if root port not found.<br>
69) kernel: net: bridge: disable softirqs around br_fdb_update to avoid lockup.<br>
70) kernel: net: fix race condition in several drivers when reading stats.<br>
71) kernel: net: tcp: shrink tcp6_timewait_sock by one cache line.<br>
72) kernel: net: tcp: fix get_timewait4_sock() delay computation on 64bit.<br>
73) kernel: net: tcp: remove redundant checks.<br>
74) kernel: net: flow_dissector: Pre-initialize ip_proto in __skb_flow_dissect().<br>
75) kernel: net: cleanup unsigned to unsigned int.<br>
76) kernel: net: inet: remove BUG_ON() in twsk_destructor().<br>
77) kernel: net: skb_defer_rx_timestamp should check for phydev before setting up classify.<br>
78) kernel: net: avoid gcc miss optimization regression in data rx path.<br>
79) kernel: net: ipv6: fix possible use after free of dev stats.<br>
<br>
<br>
<b>3.3.x</b><br>
1) toolchain: apply some regressions fix backport to gcc, update headers.<br>
2) uclibc: nptl/allocatestack.c: fix stack mprotect alignment for STACK_GROWS_UP.<br>
3) uclibc: use position independent code for crt1, slightly red/uces size of all executables.<br>
4) uclibc: use gai.conf for configure compliant with RFC 3484 ipv4 prio for tunneled ipv6.<br>
5) nvram: add auto MacAddress set in dat files (not more need set as module param in init.d).<br>
6) nvram: fix Wireless mode in MBSSID generate to dat file.<br>
7) enable 802.11H and DFS support by default (need for sertifications test and more compat with apple products).<br>
8) add 802.1x wireless radius authentification support.<br>
9) add uqmi tool (need for dongle use qmi protocol).<br>
10) add hotspot mode support (basic CoovaChilli port version 1.3.1.3 commit: Aug 19, 2015 1ef09b0).<br>
11) usb-modeswitch: up to 2.2.5 2015-07-16 version.<br>
12) miniupnpd: up to 1.9.20150721 version.<br>
13) dnsmasq: up to 2.75 version.<br>
14) dropbear: up to 2015.68 version.<br>
15) libpcap: up to 1.7.4 version.<br>
16) tcpdump: up to 4.7.4 version.<br>
17) libcurl: up to 7.44.0 version.<br>
18) xz: up to 5.2.1 version.<br>
19) libusb: up to 1.0.19 version.<br>
20) xl2tpd: sync with devel tree 12 Aug 2015 (commit 5674a58).<br>
21) xl2tpd: fix double free regression at death signal.<br>
22) xl2tpd: fix redial regression.<br>
23) init.d: make more safe and optimize stop vpn path.<br>
24) init.d: remove unneded delete generated by goahead scripts logic.<br>
25) init.d: do not need full disable rp_filter (use rp_filer=2 by default).<br>
26) init.d: scripts start, mkdevs and rcS split and use run-parts for start S* servies.<br>
27) init.d: wan: cleanup and fix zcip restart in some cases.<br>
28) init.d: qos: fix warnings with vpn mode enabled and small rearrange.<br>
29) init.d: do not touch all.forward sysctl from dhcp script.<br>
30) init.d: do not more need wait before start udhcpc.<br>
31) inif.d: iptables: v6: add rules for allow dnsmasq work as ipv6 nameserver.<br>
32) init.d: fix vpn server work regression.<br>
33) init.d: fix wan restart in apcli_gw mode.<br>
34) init.d: fix xl2tp client/server restart infinity stop at some cases.<br>
35) igmpproxy: silence downstream interface igmp messages.<br>
36) igmpproxy: use monotic clock instead of time of day.<br>
37) igmpproxy: fix multiple downlink interfaces leave.<br>
38) igmpproxy: fix wifi snooping code to work with new drivers and use legacy oid header.<br>
39) goahead: fix rebuild some script.<br>
40) goahead: use 3600 secs as default rekey interval for new BSSIDs.<br>
41) goahead: add ipv6 interfaces adresses to statisctic page.<br>
42) goahead: show dgw interface name if dgw add over if without ip adress at next hop.<br>
43) goahead: snmp add allow request from WAN&LAN and community change.<br>
44) goahead: wireless securuty default select AES for all WPA modes.<br>
45) goahead: allow dhcpVendorClass set for DHCP client (need for IpTV work in some case at some ugly ISP).<br>
46) goahead: add hardware traffic counters from switch to WebUI.<br>
47) goahead: add basic fast roaming parametrs tune (only 76x2 drivers).<br>
48) goahead: add BandSteering option.<br>
49) goahead: add IEEE 802.11h option (enable 802.11h include DFS support).<br>
50) goahead: add: IGMP Fast Leave control option.<br>
51) kernel: ralink_nvram: fix nvram small lock imbalance.<br>
52) kenrel: ralink_mtd: add Micron MT29F1G08ABAEA (128MB) to MT7621 NAND table.<br>
53) kernel: ralink_arch: disable MT7621 PCIe clock if PCI not builded.<br>
54) kernel: ralink_arch: fix MT7621 sleep mode clock (1/4 on sleep, 4/4 under load).<br>
55) kernel: ralink_arch: detect MT7628/MT7688 package type (AN/KN).<br>
56) kernel: ralink_wifi: 7620: apply post patches (dynvga BBP config fix).<br>
57) kernel: ralink_wifi: 76x2: update to 3.0.3.2_rev2.<br>
58) kernel: ralink_wifi: 76x2: fix rssi feedback work.<br>
59) kernel: ralink_wifi: 76x2: fix mt76x2_get_current_temp() periodic calls.<br>
60) kernel: ralink_wifi: 76x2: fix RSSI calculation on iLNA scheme<br>
61) kernel: ralink_wifi: 76x2: fix null pointer dereference in aplcli mode on SMP devices.<br>
62) kernel: ralink_wifi: 76x2: fix ie recived channel width at apcli connect process.<br>
63) kernel: ralink_wifi: 76x2: temporarily disable buggy QuickInitMCSRate RateCtrl algorithm (periodic drop to CCK issue).<br>
64) kernel: ralink_wifi: 7610: update to 3.0.0.9 version.<br>
65) kernel: ralink_wifi: 7610: do not agregate low rate pkts.<br>
66) kernel: ralink_wifi: 7610: fix compat with draft2 802.11ac specifications.<br>
67) kernel: ralink_wifi: 7610: fix txBurst operations with multiple clients connected.<br>
68) kernel: ralink_wifi: 7610: fix build channel list in 80Mhz mode.<br>
69) kernel: ralink_wifi: 7610: fix central channel select in DFS mode.<br>
70) kernel: ralink_wifi: 7610: remove bogus vht_sgi_80 check.<br>
71) kernel: ralink_wifi: 7610: backport autoselect channel fixes.<br>
72) kernel: ralink_wifi: xxxx: backport low traffic detect fix in rate alg.<br>
73) kernel: ralink_wifi: xxxx: move bandsteering options from driver code.<br>
74) kernel: ralink_wifi: xxxx: add max clients kernel options.<br>
75) kernel: ralink_wifi: xxxx: apply post mlme fixes.<br>
76) kernel: ralink_wifi: xxxx: fix country code for RU region (fix scan issue, allow active mode scan for all channel).<br>
77) kernel: ralink_wifi: xxxx: fix fallback to 20MHz in some cases.<br>
78) kernel: ralink_wifi: xxxx: fix mpdu default settings in some cases.<br>
79) kernel: ralink_wifi: xxxx: fix AP-Client reconnect issue on timeout Root-AP beacons (update last time on RX activity).<br>
80) kernel: ralink_wifi: xxxx: fix some potentional null pointer dereference.<br>
81) kernel: ralink_wifi: xxxx: fix ht_width set.<br>
82) kernel: ralink_wifi: xxxx: tune rate_ctl TrainUpHighThrd (110->100).<br>
83) kernel: ralink_wifi: xxxx: ability to obtain WDS and AP-Client connection info.<br>
84) kernel: ralink_wifi: xxxx: show correct AP-Client interface name.<br>
85) kernel: config: enable xt_match_time module build by default.<br>
86) kernel: sched/fair: fix RCU stall upon -ENOMEM in sched_create_group().<br>
87) kernel: mm: place preemption point in do_mlockall() loop.<br>
88) kernel: lib/int_sqrt.c: optimize square root algorithm.<br>
89) kernel: time: make *secs_to_jiffies static always inline (small optimize).<br>
90) kernel: irq: warn when shared interrupts do not match on NO_SUSPEND.<br>
91) kernel: mips: fix sched_getaffinity with MT FPAFF enabled.<br>
92) kenrel: mips: fix HIGHMEM crash in __update_cache().<br>
93) kernel: mips: fix cpu_has_mips_r2_exec_hazard.<br>
94) kernel: mips: make set_pte() SMP safe.<br>
95) kernel: mips: handle page faults of executable but unreadable pages.<br>
96) kernel: jump_label: rename JUMP_LABEL_{EN,DIS}ABLE to JUMP_LABEL_{JMP,NOP}.<br>
97) kenrel: jump_label: locking/static_keys: rename JUMP_LABEL_TYPE_* and related helpers to the static_key* pattern.<br>
98) kernel: jump_label: locking/static_keys: rework update logic.<br>
99) kernel: jump_label: add jump_entry_key() helper.<br>
100) kernel: jump_label: module: fix module locking.<br>
101) kernel: net: inet: frags: fix defragmented packet's IP  header for af_packet.<br>
102) kernel: net: socket: fix the wrong returns for recvmsg and sendmsg.<br>
103) kernel: net: neigh: do not modify unlinked entries.<br>
104) kernel: net: avoid gcc miss optimization regression in data rx path.<br>
105) kernel: net: bridge: ability to fast isolation any port w/o ebtables.<br>
106) kernel: net: bridge: mcast: give fast leave precedence over multicast router and querier.<br>
107) kernel: net: do not process device backlog during unregistration.<br>
108) kernel: net: call rcu_read_lock early in process_backlog.<br>
109) kernel: net: clone skb before setting peeked flag.<br>
110) kernel: net: fq_codel: fix return value of fq_codel_drop().<br>
111) kernel: net: ppp: fix device unregistration upon netns deletion.<br>
112) kernel: net: fix skb_set_peeked use-after-free bug.<br>
113) kernel: net: fix race condition in store_rps_map.<br>
114) kernel: net: arp: fix a lockdep splat in arp_solicit().<br>
115) kernel: net: arp: fix a regression in arp_solicit().<br>
116) kernel: net: arp: inherit metadata dst when creating ARP requests.<br>
117) kernel: net: arp: remove special case to give AX25 it's open arp operations.<br>
118) kernel: net: arp: filter NOARP neighbours for SIOCGARP.<br>
119) kernel: net: tcp: don't abort splice() after small transfers.<br>
120) kernel: net: tcp: splice: fix an infinite loop in tcp_read_sock().<br>
121) kernel: net: tcp: remove obsolete check in tcp_set_skb_tso_segs().<br>
122) kernel: net: tcp: avoid merging segments on the OOO queue into a cloned SKB.<br>
123) kernel: net: tcp: tso: allow deferring under reordering state.<br>
124) kernel: net: tcp: fix recv with flags MSG_WAITALL | MSG_PEEK.<br>
125) kernel: net: tcp: allow segment with FIN in tcp_try_coalesce().<br>
126) kernel: net: ipv4: be more aggressive when probing alternative gateways.<br>
127) kernel: net: ipv4: fix NULL checking in devinet_ioctl().<br>
128) kernel: net: ipv6: lock socket in ip6_datagram_connect().<br>
129) kernel: net: ipv6: update flowi6_oif in ip6_dst_lookup_flow if not set.<br>
130) kernel: net: ipv6: flush and refresh nd cache on netdev_change change (as ipv4).<br>
131) kernel: net: ipv6: make ipv6_is_mld() inline and use it from ip6_mc_input().<br>
132) kernel: net: ipv6: make MLD packets to only be processed locally.<br>
133) kernel: net: ipv6: fix MLD Query message check.<br>
134) kernel: net: netfilter: ip[6]t_REJECT: fix wrong transport header pointer in TCP reset.<br>
135) kernel: net: netfilter: ip6t_REJECT: skip checksum verification for outgoing ipv6 packets.<br>
136) kenrel: net: netfilter: bridge: don't leak skb in error paths.<br>
137) kernel: net: packet: read num_members once in packet_rcv_fanout().<br>
138) kernel: net: packet: avoid out of bounds read in round robin fanout.<br>
139) kernel: backport new ASIX AX88179/178A and Realtek RTL8152/8153 USB 3.0/2.0 Ethernet drivers.<br>
<br>
<br>
<b>3.4.x</b><br>
1) build_system: add new metal 7620a+7612ne internal pa/lna sd usb 16/128Mb sample.<br>
2) irqbalance: update to 04.08.2015 git version.<br>
3) init.d: fix path to passthrouth control files.<br>
4) init.d: hotplug support automount sd card if exist.<br>
5) init.d: add entware_install.sh script for fast install entware support to sd/hdd.<br>
6) kernel: ralink_mtd: sync MT7621/MT7628 SPI/NAND flash drivers with SDK 5.0.0.0.<br>
7) kernel: ralink_raeth: code refactoring and sync with 5.0.0.0 SDK.<br>
8) kernel: ralink_arch: sync with SDK 5.0.0.0.<br>
9) kernel: ralink_arch: drop deprecated RTDEV_XXX params, use CONFIG_RT_FIRST_IF_XXX/CONFIG_RT_SECOND_IF_XXX to handle driver features.<br>
10) kernel: ralink_sdxc: fix MT7628 SDXC init.<br>
11) kernel: ralink_ppe: sync with 5.0.0.0 SDK.<br>
12) kernel: ralink_wifi: 7610: always set ldpc field to 0 in CAP_IE (7610 not support LDCP).<br>
13) kernel: ralink_wifi: 7610: fix calculate rx amdsu size.<br>
14) kernel: ralink_wifi: 76x2: driver update to 3.0.4.0 universal (7620+7602+7612 chisp support) version.<br>
15) kernel: ralink_wifi: 76x2: fix microwave oven detect support.<br>
16) kernel: ralink_wifi: xxxx: fix mcs7 cap parse.<br>
17) kernel: ralink_wifi: xxxx: fix txring full in some cases(high noise level or if client lost connect).<br>
18) kernel: ralink_wifi: xxxx: prepare to full migrate to 3.0.4.0 for all 7620 devices (now build new driver only for 7620A/7621+7612 devices).<br>
19) kernel: mips: do not need PERCPU_SECTION in vmlinux if not SMP kernel build.<br>
20) kernel: mips: uapi: fix unrecognized opcode WSBH/DSBH/DSHD when using MIPS16.<br>
21) kernel: net: skb_free_datagram_locked() doesnt drop all packets.<br>
22) kernel: net: bridge: multicast-to-unicast: fix echoes on STA.<br>
23) kernel: net: bridge: multicast-to-unicast: use src from original skb (not from clone).<br>
24) kernel: net: tcp: fix slow start after idle vs TSO/GSO.<br>
25) kernel: net: tcp: speedup SIOCINQ ioctl.<br>
26) kernel: net: igmp: inhibit reports for local multicast groups.<br>
27) kernel: net: add function to allocate sk_buff head without data area.<br>
28) kernel: net: fix sk_buff head without data area.<br>
29) kernel: net: sock_flag() cleanup.<br>
30) kernel: net: ping: prevent NULL pointer dereference on write to msg_name.<br>
31) kernel: net: ipv6: send NEWLINK on RA managed/otherconf changes.<br>
32) kernel: net: ipv4: don't report neigh uptodate state in rtcache procfs.<br>
33) kernel: net: implement ipv6 passthrouth logic.<br>
<br>
<br>
<b>3.5.x</b><br>
1) build_system: add iappd demon for basic roaming support (disabled by default).<br>
2) build_system: rework defaults and rf calibs factory/backups install.<br>
3) build_system: rework link and install depended libs.<br>
4) kernel: up to 3.4.109 version.<br>
5) userapps: add nodogsplash (stabalone simple captive portal support commit dd8e4a6).<br>
6) defaults: add fast roaming and radio resource managment parametrs.<br>
7) defaults: enable WMM support by default (this long time ready for production).<br>
8) libusb: up to 1.0.20 version.<br>
9) coovachilli: up to version 1.3.1.3 commit: commit 7d86cd7).<br>
10) miniupnpd: up to 1.9.20150922 version.<br>
11) lldpd: up to 0.7.17 version.<br>
12) dropbear: generate host key only if reqest (speedup first boot and more security in some cases).<br>
13) iproute2: allow config l2tpip tunnels if configured in kernel.<br>
14) goahead: fix fast roaming extensions enable/disable options.<br>
15) goahead: add IDS parametrs to WebUI.<br>
16) goahead: review txmode set for new drivers notation.<br>
17) goahead: fix 80211.x start if server adress unset.<br>
18) goahead: fix wds configure.<br>
19) goahead: allow roaming extensions tune for all drivers.<br>
20) goahead: rework wds page.<br>
21) goahead: add type of QOS in webui (WAN/VPN/WAN+VPN).<br>
22) goahead: add EntryLifeCheck option (how pkts TX fail before connection drop, default 512).<br>
23) goahead: add tx beamforming parametrs.<br>
24) goahead: add irqbalance in WebUI.<br>
25) init.d: preconfigure igmpsnooping for all ports.<br>
26) init.d: add WdsNum variable and use in wds up interface code (no up unused wds ifaces).<br>
27) init.d: allow set dgw in bridge mode (for internet acess from AP).<br>
28) init.d: base shaper work in bridge mode.<br>
29) init.d: review complex qos logic for more fast and easy use.<br>
30) init.d: complex qos now auto limit maxrate for low prio tubes at 90/80% of prio tube.<br>
31) kernel: configs: disable ralink QoS netfiler tables rearrange (break captive portals work).<br>
32) kernel: configs: enable IDS for all devices.<br>
33) kernel: configs: switch MT7620 to 76x2 driver for all devices.<br>
34) kernel: ralink_ppe: fix reset pre-bind register on MT7621/MT7623 with pre-bind enabled.<br>
35) kernel: ralink_wifi: 76x2: do not alloc skb buffers for unsupported second RX ring on MT7620 (save more RAM).<br>
36) kernel: ralink_wifi: 76x2: improve kick STA by low RSSI.<br>
37) kernel: ralink_wifi: 7620: fix HTMIX mode work if MBSSID enabled.<br>
38) kernel: ralink_wifi: xxxx: backport some actual for all fixes from v4 driver.<br>
39) kernel: ralink_wifi: xxxx: fix modulation down to CCK in MBSSID mode regression.<br>
40) kernel: ralink_wifi: xxxx: port basic roaming optons support to all drivers.<br>
41) kernel: ralink_wifi: xxxx: fix uncorrect drop clietns in roma path if RTMPMaxRssi return 0.<br>
42) kernel: usb: usbnet: fix a race between usbnet_stop() and the BH.<br>
43) kernel: usb: net: qmi_wwan: Sierra Wireless MC73xx -> Sierra Wireless MC7304/MC7354.<br>
44) kernel: usb: qcserial: add HP lt4111 LTE/EV-DO/HSPA+ Gobi 4G Module.<br>
45) kernel: net: net_sched: sfq: put sfq_unlink in a do - while loop.<br>
46) kernel: net: net_sched: Pass the skb into change so it can access NETLINK_CB.<br>
47) kernel: net: net_sched: fix error return code in fw_change_attrs().<br>
48) kernel: net: net_sched: sch_htb: let skb->priority refer to non-leaf class.<br>
49) kernel: net: ipv6: ip6_fragment: fix headroom tests and skb leak.<br>
50) kernel: net: route: prevent oops.<br>
51) kernel: net: tcp_cubic: better follow cubic curve after idle period.<br>
52) kernel: net: fix crashes on pppoe disconnect/reconnect.<br>
53) kernel: ppp: fix lockdep splat in ppp_dev_uninit().<br>
<br>
<br>
<b>3.6.x</b><br>
1) uboot: up to 5.0.0.3 version.<br>
2) busybox: update to 1.24.1 version.<br>
3) busybox: enable strings, tr and less applets.<br>
4) lldpd: up to 0.7.19 version.<br>
5) libcurl: up to 7.45.0 version.<br>
6) coovachilli: up to version 1.3.1.3 (commit: 0469a60e).<br>
7) nodogsplash: up to version 0.9 (commit: 1a9c0f).<br>
8) usb-modeswitch: up to 2.2.6 2015-11-01 version.<br>
9) xupnpd: up to 1.033 version commit 5c3ff1.<br>
10) xl2tpd: sync with devel tree 06 Nov 2015.<br>
11) miniupnpd: workaround issue with Windows 10 (UDA 2.0 devices and control points SHALL implement IPv4 and IPv6).<br>
12) miniupnpd: up to 1.9.20151118 version.<br>
13) wireless_tool: sync with internal x86 router tree.<br>
14) 802.1x: add support MediatekIE and small cleanup and add base syslog support.<br>
15) ralinkiappd: add basic support syslog.<br>
16) add netcwnmp - basic tr_069 agent support.<br>
17) busybox: allow user RPC, and add /etc/rpc for compat with classic distro apps.<br>
18) goahead: make delay rssi check before kick configurable.<br>
19) goahead: add chilispot/nodog configure and profiles for auth services.<br>
20) goahead: always set wan_static_dns to on in bridge mode.<br>
21) goahead: add signal qality calculation in station list.<br>
22) goahead: fix lost iptfilter default policy accept rule.<br>
23) goahead: review and fix all UI logic.<br>
24) defaults/goahead/init: remove RadioOff variable, diret use RadioOn instead.<br>
25) defaults: increase max clients to 56 for 7620 and to 72 for 7621 based AP.<br>
26) init.d: fix chillispot work (now work ok tested with hotspotsystem.com, commit 2a36dfd).<br>
27) init.d: udhpd add dhcpARPPTimeout options for conflict adresses check time tune.<br>
28) init.d: serialize network->services reconfigure scripts run.<br>
29) init.d: reset all port and restore defaults particion (workaround eee bug at some samples in AP bridge mode).<br>
30) init.d: fix mmc mount speed.<br>
31) init.d: iptables: rework ipv6 rules generate (more readable).<br>
32) init.d: refactoring checkconf logic.<br>
33) init.d: dyndns: for dnsafraid not need set and use DDNSAccount, only key in DDNSPassword used for login.<br>
34) init.d: checkconf: add workaround for stupids china engeeneers from fabric (WLAN macs must be individual to).<br>
35) init.d: fix M2U and snooping work in some modes and cases.<br>
36) init.d: do not reload wifi drivers every iterations.<br>
37) init.d: ralinkiappd: fix select interface for recive data.<br>
38) kernel: up to 3.4.110 version.<br>
39) kernel: ralink_ppe: fix FOE handle (AI=HIT_BIND_MULTICAST_TO_CPU with SP=6 on MT7620).<br>
40) kernel: ralink_spi: increase output driving strength to 50% for Winbond SPI flash chips.<br>
41) kernel: ralink_spi: fix calculate MT7621 SPI clock and update dividers.<br>
42) kernel: ralink_spi: cleanup SPI flash drivers, improve performance for 4byte mode chips (>=32MB).<br>
43) kernel: ralink_arch: add two memory regions for MT7621 with 512M (Normal + Highmem).<br>
44) kernel: ralink_arch: fix MT7621 SYS_CLK calculation, show separated OCP/SYS frequency.<br>
45) kernel: ralink_arch: add MT7688 detection, expand MT7628/MT7688 CPU clock detection.<br>
46) kernel: ralink_raeth: add support MT7621/MT7530 GSW EPHY LED control.<br>
47) kernel: ralink_raeth: allow override MT7621/MT7530 GSW port forward mask.<br>
48) kernel: ralink_wifi: 76x2: driver update to 3.0.4.0.p1 universal (7620+7602+7612 chips support) version.<br>
49) kernel: ralink_wifi: 76x2: DRS_TX_QUALITY_WORST_BOUND set to 8 as all others (this mix rate at train down).<br>
50) kernel: ralink_wifi: 76x2: fix dynvga enable procedure.<br>
51) kernel: ralink_wifi: 76x2: decrease memory usage for Andes RX1 ring.<br>
52) kernel: ralink_wifi: 76x2: allways use mcs_0/6 for managment frames (depended by band) for compat.<br>
53) kernel: ralink_wifi: 76x2: enable 802.11K (radio resource managment by default).<br>
54) kernel: ralink_wifi: 76x2: 802.11k use channel power information form US table to RU region (need for work RRM).<br>
55) kernel: ralink_wifi: 76x2: assoc reqest packets - fix duplicated mgmt frame to host.<br>
56) kernel: ralink_wifi: xxxx: optimize reschedule Tx cleanup timer.<br>
57) kernel: ralink_wifi: xxxx: fix regression in APChkCls2Cls3Err implemented by shiang (3.0.0.x and later drivers).<br>
58) kernel: ralink_wifi: xxxx: kick sta at rssi low rework with avgRssi and RssiSample.<br>
59) kernel: ralink_wifi: xxxx: reject/ignore roaming parametrs now rework with average RSSI instead of max.<br>
60) kernel: ralink_wifi: xxxx: add configurable delay in kick STA by low RSSI (if in this interval all data frames have low rssi - kick STA).<br>
61) kernel: ralink_wifi: xxxx: fix potentional null pointer dereference in MlmeNewTxRate.<br>
62) kernel: ralink_wifi: xxxx: fix DROP_MASK race condition.<br>
63) kernel: ralink_wifi: xxxx: backport some fixes from 3.0.4.0.p1 to all.<br>
64) kernel: ralink_wifi: xxxx: allow set rates for multicast.<br>
65) kernel: ralink_wifi: xxxx: enable dfs,rrm support by default.<br>
66) kernel: ralink_wifi: xxxx: fix speed regression at multiclient aptune logic.<br>
67) kernel: ralink_wifi: xxxx: enable Clear-Channel Assessment (CCA) Monitor Support in test targets with new drivers.<br>
68) kernel: ralink_wifi: xxxx: fix very old CountryCode read from profile bug.<br>
69) kernel: ralink_wifi: xxxx: add correct regulatory table to Russia.<br>
70) kernel: ralink_wifi: xxxx: fix compath with 802.11d.<br>
71) kernel: ralink_wifi: xxxx: fix end enabled by default bss_qload (without alarm) for use in autochannel select and AP load annonse in beacons.<br>
72) kernel: ralink_wifi: xxxx: backport OID_802_DOT1X_QUERY_STA_AID ioctl support for full compath with new 802.1x daemon.<br>
73) kernel: ralink_wifi: xxxx: fix transit power setting in profile takes no effect.<br>
74) kernel: vfs: remove incorrect debugging WARN in prepend_path.<br>
75) kernel: jump label: remove static_branch().<br>
76) kernel: optimize net_get_random_once on CONFIG_JUMP_LABEL is not set.<br>
77) kernel: mm: make sendfile(2) killable.<br>
78) kernel: sd: clear PS bit before Mode Select.<br>
79) kernel: drivers/net: convert compare_ether_addr to ether_addr_equal.<br>
80) kernel: drivers/core: fix unregistration path of platform devices.<br>
81) kernel: mips: use ARCH_USE_BUILTIN_BSWAP.<br>
82) kernel: mips: vmlinux: discard .MIPS.abiflags.<br>
83) kernel: mips: fix PAGE_MASK definition.<br>
84) kernel: usb: xhci: follow upstream.<br>
85) kernel: usb: xhci: backports from 3.10 tree.<br>
86) kernel: usb: option: add ZTE PIDs.<br>
87) kernel: usb: core: update power budget for SuperSpeed.<br>
88) kernel: usb: asix: fix crash on skb alloc failure.<br>
89) kernel: net: initialize flow flags in input path.<br>
90) kernel: net: unix/caif: sk_socket can disappear when state is unlocked.<br>
91) kernel: net: ipip, sit: fix ipv4_update_pmtu calls.<br>
92) kernel: net: route: fix behaviour of unreachable, blackhole and prohibit routes.<br>
93) kernel: net: fix skb csum races when peeking.<br>
94) kernel: net: fib_rules: fix fib rule dumps across multiple.<br>
95) kernel: net: af_key: net: fix RCU splat.<br>
96) kernel: net: remove sk_init() helper.<br>
97) kernel: net: tcp: generate CA_EVENT_TX_START on data frames.<br>
98) kernel: net: xps: fix calculation of initial number of xps queues.<br>
99) kernel: net: avoid NULL deref in inet_ctl_sock_destroy().<br>
100) kernel: net: fix a race in dst_release().<br>
101) kernel: net: add dev_loopback_xmit() to avoid duplicate code.<br>
102) kernel: net: use skb_clone to avoid alloc_pages failure.<br>
103) kernel: net: netfilter: add SMB fastpath module.<br>
104) kernel: net: netfilter: ip[6]t_REJECT: tcp-reset using wrong MAC source if bridged.<br>
105) kernel: net: netfilter: incorrect hash calculation in some cases.<br>
106) kernel: net: ppp: fix pppoe_dev deletion condition in pppoe_release().<br>
107) kernel: net: ppp: slip: validate VJ compression slot parameters completely.<br>
108) kernel: net: ppp: don't set sk_state to PPPOX_ZOMBIE in pppoe_disc_rcv(), remove PPPOX_ZOMBIE socket state.<br>
109) kernel: net: neighbour: use source address of last enqueued packet for solicitation.<br>
110) kernel: net: neighbour: add mcast_resolicit to configure the number of multicast resolicitations in PROBE state.<br>
111) kenrel: net: af_packet: fix regression if pppd sends packets with only a header and no payload.<br>
112) kernel: net: af_packet: infer protocol from ethernet header if unset.<br>
113) kernel: net: af_packet: allow packets defragmentation not only for hash fanout type.<br>
114) kernel: net: af_inet: only check perm protocol when register proto.<br>
115) kernel: net: af_unix: return data from multiple SKBs on recv() with MSG_PEEK flag.<br>
116) kernel: net: af_unix: fix logic about sk_peek_offset.<br>
117) kernel: net: af_unix: do not report POLLOUT on listeners.<br>
118) kernel: net: ipv4/icmp: redirect messages can use the ingress daddr as source.<br>
119) kernel: net: ipv4/6: compute net once in some cases.<br>
120) kernel: net: ipv4: fix a potential deadlock in mcast getsockopt() path.<br>
121) kernel: net: ipv6: add RT6_LOOKUP_F_IFACE flag if oif is set.<br>
122) kernel: net: ipv6: dont add RT6_LOOKUP_F_IFACE flag if saddr set.<br>
123) kernel: net: ipv6: add labels for site-local and 6bone testing addresses (RFC6724).<br>
124) kernel: net: ipv6: add anti-spoofing checks for 6to4 and 6rd.<br>
125) kernel: net: ipv6: only apply anti-spoofing checks to not-pointopoint tunnels.<br>
126) kernel: net: ipv6: nat: do not drop DNATed 6to4/6rd packets.<br>
127) kernel: net: ipv6: remove redundant oif checks in rt6_device_match.<br>
128) kernel: net: ipv6: drop frames with attached skb->sk in forwarding.<br>
129) kernel: net: ipv6: protect mtu calculation of wrap-around and infinite loop by rounding issues.<br>
130) kernel: net: ipv6: recreate ipv6 link-local addresses when increasing MTU over IPV6_MIN_MTU.<br>
131) kernel: net: ipv6: fix a potential use after free in sit.c.<br>
132) kernel: net: ipv6: select fragment id during UFO segmentation if not set.<br>
133) kernel: net: ipv6: fix fragment id assignment on LE arches.<br>
134) kernel: net: ipv6: call ipv6_proxy_select_ident instead of ipv6_select_ident in udp6_ufo_fragment.<br>
135) kernel: net: ipv6: RTAX_FEATURE_ALLFRAG causes inefficient TCP segment sizing.<br>
136) kernel: net: ipv6: fix IPv6 UDP fragmentation issue.<br>
137) kernel: net: ipv6: nf_conntrack_ipv6: fix tracking of ICMPv6 error messages containing fragments.<br>
<br>
<br>
<b>3.7.x</b><br>
1) uboot: add profile for ME2 7621 sample.<br>
2) toolchain: rebuild with current kernel headers.<br>
3) add 7621+7602+7612_USB_SD_SIM_16_512 metal sample support.<br>
4) defaults: allow greenfield mode by default.<br>
5) openssl up to 0.9.8zh version.<br>
6) coovachilli: up to version 1.3.1.3 (commit: 10a04da2).<br>
7) xl2tpd: sync with devel tree 26 Nov 2015.<br>
8) dropbear: up to 2015.70 version.<br>
9) irqbalance: update to 23.11.2015 git version.<br>
10) butcheck: set dir per gpio instead of all.<br>
11) dnsmasq: fix crash when empty address from DNS overlays A record from hosts.<br>
12) nodogsplash: fixed segfault in httpd_thread.c under high load (commit 251e61db).<br>
13) xupnpd: move TTK-IPTV to feed and cleanup RTK-TV.<br>
14) goahead: remove private copy of wireless.h, now allways use system header.<br>
15) init.d: netfilter add ForwardSesLimit (use for limit forward sessions per user).<br>
16) init.d: do not disable logging in cooava chilli.<br>
17) init.d: chillispot - increase txqueuelen to 1000 and rcvbuf/sndbuf to 128Kb (save ~5% cpu load).<br>
18) init.d: kext - add Lan2Wifi isolate mode, isolate LAN network resourses for WLAN user, allow only internet use.<br>
19) init.d: fix ports physmode set regression.<br>
20) init.d: add one rgmii mode support for MT7621.<br>
21) kernel: ralink_arch: i2c busses: add support MT7621 and MT7628.<br>
22) kernel: ralink_ppe: allow dynamic set FoE 64/80b in runtime, use FoE 80b only IPv6 offload enabled.<br>
23) kernel: ralink_wifi: xxxx: prevent little/big endian issue. and let asic_write_bcn_buf() handle it.<br>
24) kernel: ralink_wifi: xxxx: fix potentional null pointer dereference.<br>
25) kernel: ralink_wifi: xxxx: Mpdu Density all time must be > 0.<br>
26) kernel: ralink_wifi: xxxx: HT green AP operation support all >=2T2R chips at not depend from GREENAP_SUPPORT config option.<br>
27) kernel: ralink_wifi: 76x2: small fix WDS.<br>
28) kernel: ralink_gpio: cleanup and small fixup.<br>
29) kernel: ralink_gpio: switch JTAG and GE2 (if not support) to GPIO mode.<br>
30) kernel: div64.h: optimize divide operations.<br>
31) kernel: exfat: upstream updates.<br>
32) kernel: devres: fix a for loop bounds check.<br>
33) kernel: mtd: blkdevs: fix potential deadlock + lockdep warnings.<br>
34) kernel: ipc,sem: fix use after free on IPC_RMID after a task using same semaphore set exits.<br>
35) kernel: splice: sendfile() at once fails for big files.<br>
36) kernel: vfs: avoid softlockups with sendfile(2).<br>
37) kernel: vfs: make sendfile(2) killable even better.<br>
38) kernel: usb: add new devives support to serial drivers.<br>
39) kernel: usb: MT7621 xHCI: fix memory leak, add losted workarounds from MTK SDK.<br>
40) kernel: usb: option: add support TS-UM6602 modem (aka MOTIV 4G).<br>
41) kernel: mips: revert: make CAC_ADDR and UNCAC_ADDR account for PHYS_OFFSET.<br>
42) kernel: mips: revert: adjust mips highmem offset to avoid the need for -mlong-calls on systems with >256M RAM.<br>
44) kernel: mips: revert: fix race condition in lazy cache flushing.<br>
45) kernel: mips: fix work highmem at 7621 samples.<br>
46) kernel: mips: fix highmem crash in __update_cache.<br>
47) kernel: mips: autodetect memsize not support high memory (limit detect to 448Mb on mips boards).<br>
48) kenrel: mips: allow long calls on highmem support builds.<br>
49) kernel: net: add length argument to skb_copy_and_csum_datagram_iovec.<br>
50) kernel: net: neighbour: fix crash at dumping device-agnostic proxy entries.<br>
51) kernel: net: increase conntrack size depend by ram_size.<br>
52) kernel: net: tunnel: implement 64 bits statistics.<br>
53) kernel: net: fq_codel: fix cpu load with higher speed.<br>
54) kernel: net: tcp: initialize tp->copied_seq in case of cross SYN connection.<br>
55) kernel: net: tcp: connect() from bound sockets can be faster.<br>
56) kernel: net: ipv4: igmp: allow removing groups from a removed interface.<br>
57) kernel: net: ipmr: fix static mfc/dev leaks on table destruction.<br>
58) kernel: net: ipmr: fix possible race resulting from improper usage of IP_INC_STATS_BH() in preemptible context.<br>
59) kernel: net: ipmr, ip6mr: fix vif/tunnel failure race condition.<br>
60) kernel: net: ipv6: fix tunnel error handling.<br>
61) kernel: net: ipv6: fix the use of pcpu_tstats in ip6_tunnel.<br>
62) kernel: net: packet: allow to transmit +4 byte in TX_RING slot for VLAN case.<br>
63) kernel: net: packet: tpacket_snd(): fix signed/unsigned comparison.<br>
64) kernel: net: packet: only allow extra vlan len on ethernet devices.<br>
65) kernel: net: packet: fix tpacket_snd max frame len.<br>
66) kernel: net: packet: fixed TPACKET V3 to signal poll when block is closed rather than every packet.<br>
67) kernel: net: packet: don't pass empty blocks for PACKET_V3.<br>
<br>
<br>
<b>3.8.x</b><br>
1) uboot: up to 5.0.0.4 version.<br>
2) miniupnpd: up to 1.9.20151212 version.<br>
3) coovachilli: up to version 1.3.1.3 (commit: f5dd12b8).<br>
4) xupnpd: up to 1.034 version commit 97b8a7ef (use old style ui).<br>
5) xupnpd: fix feeds for INSIS and CONVEX ISPs.<br>
6) init.d: fix double vlan tag support.<br>
7) init.d: if Lan2Wifi isolate and MBSSID isolate mode - enable full isolate MBSSID interfaces in bridge.<br>
8) init.d: add support VLAN isolated GW to AP`s/ZONE support (isolated vlans for LAN in router mode and recive vlans for internet in AP mode).<br>
9) init.d: refactoring VLAN for TV/SIP ports (split linked to esw vlans, bridge create and WAN/LAN vlans).<br>
10) init.d: vlan isolate use vids list instead one value for all, more flexible.<br>
11) kernel: ralink_arch: disable NAND, SDXC, SPDIF when unused (more power save).<br>
12) kernel: ralink_arch: SDXC: add power control, decrease debug.<br>
13) kernel: ralink_raeth: temp disable recive checksumm offload in MT7621 (break mroute).<br>
14) kernel: devres: fix devres_get().<br>
15) kernel: sched/core: remove false-positive warning from wake_up_process().<br>
16) kernel: sched/core: clear the root_domain cpumasks in init_rootdomain().<br>
17) kernel: fuse: break infinite loop in fuse_fill_write_pages().<br>
18) kernel: usblp: do not set TASK_INTERRUPTIBLE before lock.<br>
19) kernel: ubi: fix use of "VID" vs. "EC" in header self-check.<br>
20) kernel: ubi: fix return error code.<br>
21) kernel: usb: fix invalid memory access in hub_activate().<br>
22) kernel: usb: xhci: fix config fail of FS hub behind a HS hub with MTT.<br>
23) kernel: usb: use the USB_SS_MULT() macro to decode burst multiplier for log message.<br>
24) kernel: net: remove martian_source_keep_err goto label.<br>
25) kernel: net: cdc_mbim: add "NDP to end" quirk for Huawei E3372.<br>
26) kernel: net: usb: cdc_ncm: Adding Dell DW5812 LTE Verizon/DW5813 LTE AT&T Mobile Broadband Card.<br>
27) kernel: net: qmi_wwan: MDM9x30 specific power management.<br>
28) kernel: net: qmi_wwan: remove 1199:9070 device id.<br>
29) kernel: net: qmi_wwan: support "raw IP" mode.<br>
30) kernel: net: qmi_wwan: ignore bogus CDC Union descriptors.<br>
31) kernel: net: add validation for the socket syscall protocol argument.<br>
32) kernel: net: tunnels: improve implement 64 bits statistics.<br>
33) kernel: net: tun: honor IFF_UP in tun_get_user().<br>
34) kernel: net: ppp: define "ppp" device type.<br>
35) kernel: net: pppoe: fix memory corruption in padt work structure.<br>
36) kernel: net: pppox: use standard module auto-loading feature.<br>
37) kernel: net: pptp: verify sockaddr_len in pptp_bind() and pptp_connect().<br>
38) kernel: net: ipv6: restrict hop_limit sysctl setting to range [1; 255].<br>
39) kernel: net: ipv6: only act upon NETDEV_*_TYPE_CHANGE if we have ipv6 addresses.<br>
40) kernel: net: sit: hide noisy 6to4/6rd spoofing warnings.<br>
41) kernel: net: af_unix: avoid use-after-free in ep_remove_wait_queue.<br>
42) kernel: net: af_packet: fix match_fanout_group().<br>
43) kernel: net: fix __netdev_update_features return on ndo_set_features failure.<br>
44) kernel: net: scm: fix PaX detected msg_controllen overflow in scm_detach_fds.<br>
45) kernel: net: snmp: Remove duplicate OUTMCAST stat increment.<br>
46) kernel: net: ip6mr: call del_timer_sync() in ip6mr_free_table().<br>
47) kernel: net: fix regression in short UDP reads caused by "net: Fix skb csum races when peeking".<br>
48) kernel: net: revert "net: add length argument to skb_copy_and_csum_datagram_iovec".<br>
49) kernel: net: udp: properly support MSG_PEEK with truncated buffers.<br>
<br>
<br>
<b>3.9.x</b><br>
1) toolchain: sync uclibc patches and kernel headers.<br>
2) build_system: add qdma tool (need for hw_qos support in future).<br>
3) build_system: cleanup supported libs in config.arch.<br>
4) build_system: use mtune=1004kc for MT7621.<br>
5) build_system: do not remove hotspot.asp if nodogsplash build without chillispot.<br>
6) uboot: add UART baud rate 115200/57600 configuration.<br>
7) uclibc: mips: switch float_t to float.<br>
8) dropbear: up to 2015.71 version.<br>
9) dropbear: small revert fix regression break work in inetd mode.<br>
10) dropbear: add force proto famaly set (IPv4/6).<br>
11) dropbear: fix signature check.<br>
12) dropbear: increase kex hash cache size.<br>
13) dropbear: allow 3des,rsa,ecdsa,ecdh for compat.<br>
14) wide-dhcpv6: fix bind control socket error handle.<br>
15) miniupnpd: up to 1.9.20160209 version.<br>
16) iptables: some upstream backports.<br>
17) coovachilli: up to version 1.3.1.3 (commit: dd05c1b3).<br>
18) ethtool: up to 4.2 version.<br>
19) lldpd: up to 0.9.0 version.<br>
20) libcurl: up to 7.47.0 version.<br>
21) irqbalance: update to 16.12.2015 git version.<br>
22) xl2tpd: avoid problems with bad avp lengths.<br>
23) usb-modeswitch: up to 2.3.0 version.<br>
24) radvd: up to 2.12 version.<br>
25) dnsmasq: up to 2.76test8 version.<br>
26) pppd: rp-pppoe: update to 3.12 version.<br>
27) pppd: libpptp: small fix and cleanup.<br>
28) xl2tpd: fix #98 by checking if a valid PID is being killed.<br>
29) busybox: truncate: always set mode when opening file to avoid fortify errors.<br>
30) goahead: add wifisystem.ru profile in hotspot page.<br>
31) goahead: add show function name to all error messages.<br>
32) goahead: fix crash at long time port status view.<br>
33) goahead: fix error handle in read data from ethool over pipe.<br>
34) goahead: fix potentional division by zero in get cpu usage and put_ulong code.<br>
35) goahead: fix potentional null pointer dereferens in isdigit, getSysDateTime, getMaxVol and get_LANAUTHState.<br>
36) goahead: rewrite get cpu, mem usage code more safe and readable.<br>
37) goahead: allways use doSystem() instead off call system() in exec sh scripts.<br>
38) goahead: rewrite getAllNICStatisticASP for safe and readable.<br>
39) goahead: use more safe strncpy instead of strcpy in ioctl reqests.<br>
40) goahead: remove dead getIfLive, getIfLiveWeb, getIfIsUpWeb and getLanIfNameWeb, getField.<br>
41) goahead: log errors to syslog for easy debug.<br>
42) goahead: fix system and internal syslog functions conflict.<br>
43) goahead: ignore USR1,USR2,HUP signals.<br>
44) goahead: rewrite getPortStatus function for direct get data from kernel ethtool via ioctl.<br>
45) goahead: cleanup req struct before ioctl use.<br>
46) goahead: disable balloc use for MT7621 (balloc not multithread safe).<br>
47) goahead: fix varios crashes.<br>
48) goahead: rewrite scale bytes to multipliers names (more safe and standart strong output).<br>
49) goahead: add auto daemonize at start support.<br>
50) goahead: add restore mode without call full reinit if pid file exist (need for quiet restart).<br>
51) goahead: add -h/r/f command line arguments for help/restore/foreground.<br>
52) goahead: ipv6 page fix reset to defaults.<br>
53) goahead: use tcp_nodelay for root socket.<br>
54) switch: add support egress tag/untag.<br>
55) libnvram: add nvram_fromdef function for load selected value from defaults to nvram.<br>
56) libnvram: remove nvram_buf_get function, allways read from nvram_get allrady buffered.<br>
57) init.d: vpnserver: remove unneded second dgw to clients network (unused).<br>
58) init.d: config-vlan: fix portmap mask for esw in one RGMII mode.<br>
59) init.d: config-vlan: skip port 5 from config not used and linkdown.<br>
60) init.d: do not turn off vpn client in irmware update case.<br>
61) init.d: rename wifi_unload.sh to unload_all.sh, review and cleanup.<br>
62) init.d: remove unneded chilli_dynip param (fix chilli dhcp ip pool range).<br>
63) init.d: allow print some minimal information about userspace segfaults to the kernel console.<br>
64) kernel: ralink_raeth: switch to qdma for MT7621.<br>
65) kernel: ralink_raeth: fetch MT7621/MT7530 PauseFrame MIB counters.<br>
66) kernel: ralink_raeth: add MT7628 switch control API.<br>
67) kernel: ralink_raeth: add support MT762x/MT7530 per-VLAN untag.<br>
68) kernel: ralink_raeth: MT7620 rev 0204 has CDM bug too (workload tests FAILED).<br>
69) kernel: ralink_sdxc: fix MT7621 unstable write issue and cleanup.<br>
70) kernel: ralink_sdxc: set sample crc by clock falling edge.<br>
71) kernel: mips: fix bitrot in __get_user_unaligned().<br>
72) kernel: mips: sync-r4k: reduce skew while synchronization.<br>
73) kernel: mips: rewrite csum_fold to plain C.<br>
74) kernel: mips: changed current_thread_info() to an equivalent supported by both clang and GCC.<br>
75) kernel: mips: spinlock: Adjust arch_spin_lock back-off time.<br>
76) kernel: mips: fall back to generic implementation of cmpxchg64 on 32-bit platforms.<br>
77) kernel: mips: remove a temporary hack for debugging cache flushes in SMTC configuration.<br>
78) kernel: mips: call find_vma with the mmap_sem held.<br>
79) kernel: mips: ensure FCSR cause bits are clear after invoking FPU emulator.<br>
80) kernel: mips: mm: add debug information for userland SIGSEGV signals.<br>
81) kernel: mips: fix race condition in lazy cache flushing.<br>
82) kernel: mips: smp-cmp: remove incorrect core number probe.<br>
83) kernel: mips: disable MIPS_MT_FPAFF and clean up resume declaration.<br>
84) kernel: driver-core: move kobj_to_dev from genhd.h to device.h.<br>
85) kernel: driver-core: use kobj_to_dev instead of re-implementing it.<br>
86) kernel: crypto: skcipher - copy iv from desc even for 0-len walks.<br>
87) kernel: mmc: upstream updates.<br>
88) kernel: err.h: add (missing) unlikely() to IS_ERR_OR_NULL().<br>
89) kernel: err.h: allow IS_ERR_VALUE to handle properly more types.<br>
90) kernel: tty: fix GPF in flush_to_ldisc().<br>
91) kernel: tty: n_tty: fix SIGIO for output.<br>
92) kernel: usb-storage: update unusual_devs from upstream.<br>
93) kernel: usb-storage: add quirk for mandatory READ_CAPACITY_16.<br>
94) kernel: usb_usual: fix US_FL_BROKEN_FUA flag before upstream commit 'usb: remove libusual', it masked by USB_US_ORIG_FLAGS.<br>
95) kernel: usb_usual: expand JMicron quirk US_FL_BROKEN_FUA to rev 1.17.<br>
96) kernel: usb: serial: option: fix Cinterion AHxx enumeration.<br>
97) kernel: usb: serial: option: adding support for Telit LE922.<br>
98) kernel: usb: serial: cdc_acm: ignore Infineon Flash Loader utility, exclude Samsung phone 04e8:685d.<br>
99) kernel: usb: serial: cdc-acm: add support for Denso cradle CU-321.<br>
100) kernel: usb: serial: cdc-acm: send zero packet for intel 7260 modem.<br>
101) kernel: usb: serial: cdc-acm: kill unnecessary messages.<br>
102) kernel: net: packet: don't check frames_per_block against negative values.<br>
103) kernel: net: change pseudohdr argument of inet_proto_csum_replace* to be a bool.<br>
104) kernel: net: simplify napi_synchronize() to avoid warnings.<br>
105) kernel: net: cdc_ncm: avoid changing RX/TX buffers on MTU changes.<br>
106) kernel: net: add scheduling point in recvmmsg/sendmmsg.<br>
107) kernel: net: possible use after free in dst_release.<br>
108) kernel: net: bridge: use kobj_to_dev instead of to_dev.<br>
109) kernel: net: pptp: fix illegal memory access caused by multiple bind()s.<br>
110) kernel: net: netfilter: xt_TCPMSS: handle CHECKSUM_COMPLETE in tcpmss_tg6().<br>
111) kernel: net: sched: drr: check for NULL pointer in drr_dequeue.<br>
112) kernel: net: inet: frag: always orphan skbs inside ip_defrag().<br>
113) kernel: net: qmi_wwan: add WeTelecom-WPD600N.<br>
114) kernel: net: qmi_wwan: add SIMCom 7230E.<br>
115) kernel: net: core: revert net: fix__netdev_update_features return and add comment.<br>
116) kernel: net: ipv6: addrlabel: fix ip6addrlbl_get().<br>
117) kernel: net: ipv6: honor ifindex in case we receive ll addresses in router advertisements.<br>
118) kernel: net: ipv6: update skb->csum when CE mark is propagated.<br>
119) kernel: net: ipv6: always add flag an address that failed DAD with DADFAILED.<br>
120) kernel: net: ipv6: keep existing flags when setting IFA_F_OPTIMISTIC.<br>
121) kernel: net: ipv6: fib6: install fib6 ops in the last step.<br>
122) kernel: net: ipv6: fix the incorrect return value of throw route.<br>
123) kernel: net: ipv6: udp: use sticky pktinfo egress ifindex on connect() (RFC 3542 section 6.7).<br>
124) kernel: net: ipv6: proc: fix error handling.<br>
125) kernel: net: ipv4: no CHECKSUM_PARTIAL on MSG_MORE corked sockets.<br>
126) kernel: net: ipv4: revert 'ipv4/icmp: redirect messages can use the ingress daddr as source'.<br>
127) kernel: proc: return -ENOMEM when inode allocation failed.<br>
128) kernel: proc: no need to initialize proc_inode->fd in proc_get_inode().<br>
129) kernel: proc: check vma->vm_file before dereferencing.<br>
130) kernel: proc: don't show nonexistent capabilities.<br>
131) kernel: proc: fix inconsistent lock state.<br>
132) kernel: proc: allow proc_free_inum to be called from any context.<br>
133) kernel: proc: make proc_fd_permission() thread-friendly.<br>
134) kernel: proc: fix the potential use-after-free in first_tid().<br>
135) kernel: mm: do not invoke OOM killer on kernel fault OOM.<br>
136) kernel: mm: account the total_vm in the vm_stat_account().<br>
137) kernel: mm: fix potential anon_vma locking issue in mprotect().<br>
138) kernel: mm: count the number of pages affected in change_protection().<br>
139) kernel: mm: optimize the TLB flush of sys_mprotect() and change_protection() users.<br>
140) kernel: mm: account for a THP NUMA hinting update as one PTE update.<br>
141) kernel: mm: do not flush TLB during protection change if !pte_present && !migration_entry.<br>
<br>
<br>
<b>4.0.x</b><br>
1) project: sync with 5.0.1.0 SDK.<br>
2) uboot: up to 5.0.0.5 version.<br>
3) build_system: add strace v4.11 for easy debug.<br>
4) lldpd: up to 0.9.1 version.<br>
5) uclibc: enable relro,now,noexecstack options.<br>
6) switch: fix signed integer overflow for expressions.<br>
7) wide-dhcpv6, cpdtool, igmpproxy, lldt, pppd, xupnpd, udpxy, samba, p910nd fix some issues found by cppcheck.<br>
8) dnsmasq: up to 2.76test12 version.<br>
9) miniupnpd: up to 1.9.20160222 version.<br>
10) xl2tpd: sync with devel tree 10 Mar 2016.<br>
11) xupnpd: generic plugin fix.<br>
12) bndstrg: add daemon and init for support bandsteering.<br>
13) utils: switch: show ports PVID and matrix.<br>
14) system: add remote managment user for ISP device managment.<br>
15) goahead: fix types convert in value.<br>
16) goahead: replace min/max macros to new with type check.<br>
17) goahead: fix potentional data corrupt in socketWrite/Read.<br>
18) goahead: fix 64-bit js functions.<br>
19) goahead: fix sanity buffsizes.<br>
20) goahead: check data size before send.<br>
21) goahead: fix some errore find by cppcheck analizer.<br>
22) goahead: fix dhcp ip range calc on lan ip change.<br>
23) goahead: fix potentional crash at url decode.<br>
24) goahead: fix potentional use after free.<br>
25) goahead: fix uncorecrt socket reuse in socketSelect.<br>
26) goahead: cleanup socket code, remove unused flags and type of sockets.<br>
27) goahead: implement socket reservice for correct connection reuse.<br>
28) goahead: cleanup and refactoring sockets alloc logic.<br>
29) goahead: zero mem at first heap allocate.<br>
30) goahead: remove dead unicode code.<br>
31) init.d: irqbalance skip ipi irq`s.<br>
32) init.d: add support wlan2vlan over LAN/WAN bridges.<br>
33) init.d: rename LANVlans to VlanLan and LANVlansIsolate to VlanLanIsolate variables, for name consistent.<br>
34) init.d: add restart goahead if unexpected stopped (temp workaround for MIPS_MT_SMP).<br>
35) init.d: fix vlan with vid > 6 issue, add vlan map to 7620.<br>
36) init.d: fix vlan hw2sw mode switch.<br>
37) init.d: start band steering daemon only if SSID1=SSID1INIC.<br>
38) kernel: ralink_arch: rework memautodetect in mt7621 case.<br>
39) kernel: ralink_arch: more power save on unused MT7621 PCIe PHY.<br>
40) kernel: ralink_arch: tune MT7621 PCIe PHY SSC (Spread Spectrum) to reduce interference.<br>
41) kernel: ralink_arch: hardcode MT7621 GIC IPI offsets as U-Boot. VPE0 always 56 and 60 (for MT7621S too).<br>
42) kernel: ralink_nvram: make nvram driver SMP safe.<br>
43) kernel: ralink_gpio: fix mt7621 gpio disable interrupts.<br>
44) kernel: ralink_wifi: sync with mt7612e_20160219 version driver.<br>
45) kernel: ralink_wifi: tune band steering timeouts (fix very long time wait connect at one band clients).<br>
46) kernel: ralink_wifi: mt7620 driver fix build band steering support.<br>
47) kernel: ralink_wifi: backport band_steering support from mt76x2 driver to mt7620 and mt7610 drivers.<br>
48) kernel: ralink_wifi: mt76x2 allow VgaClamp control to 5GHz.<br>
49) kernel: ralink_raeth: switch_control: fix calculate untag VID from unused rules.<br>
50) kernel: ralink_raeth: switch_control: allow set isolation mode concurrent with vlan filtering.<br>
51) kernel: ralink_raeth: switch_control: support reset MIB couters for MT7620/MT7628 ESW.<br>
52) kernel: ralink_raeth: switch_control: move MAC control functions to appropriate modules.<br>
53) kernel: ralink_raeth: switch_control: add support software mode IGMP/MLD snooping, add configure selector.<br>
54) kernel: ralink_raeth: switch_control: add support up to 6 Eth ports, code refactoring, update IOCTL table.<br>
55) kernel: ralink_raeth: switch_control: add support control concurrent with MT7621 MCM.<br>
56) kernel: ralink_raeth: improve external GPHY support, add support Realtek RTL8211 GPHY family.<br>
57) kernel: ralink_raeth: fix MT7621 with GE2 to external GPHY case.<br>
58) kernel: ralink_raeth: fix MT7620 with P5 to external GPHY case.<br>
59) kernel: ralink_raeth: use special hook to notify ESW/GSW port link changed.<br>
60) kernel: ralink_raeth: add support swap GDMA1<->GDMA2 ports on RT3883/MT7621.<br>
61) kernel: ralink_raeth: fix update VLAN dev features.<br>
62) kernel: ralink_raeth: fix autopoll external EPHY on MT7620.<br>
63) kernel: ralink_raeth: fix coherentio (corrupt last 2 bytes on 1536 bytes real data received) on MT7620/MT7621.<br>
64) kernel: ralink_raeth: QDMA: add 4 reserved buffers for all QDMA pipes, increase QDMA SW pool.<br>
65) kernel: mm/highmem: reimplement make kmap cache coloring aware.<br>
66) kernel: kernel-wide: fix missing validations on __get/__put/__copy_to/__copy_from_user().<br>
67) kernel: usb: qmi_wwan: add 4G LTE usb-modem U901, add Dell Wireless 5809e Gobi 4G HSPA+ Mobile Broadband Card (rev3).<br>
68) kernel: usb: serial: option: add support for Telit LE922 PID 0x1045, add support for Quectel UC20.<br>
69) kernel: usb: xhci: fix list corruption in urb dequeue at host removal.<br>
70) kernel: smp: make smp_call_function_many() use logic similar to smp_call_function_single().<br>
71) kernel: smp: remove cpumask_ipi.<br>
72) kernel: mips: highmem: turn flush_cache_kmaps into a no-op.<br>
73) kernel: mips: fix use highmem without long calls.<br>
74) kernel: mips: rework core number correction.<br>
75) kernel: mips: fix 64k page support for 32 bit kernels.<br>
76) kernel: mips: fix FPU disable with preemption.<br>
77) kernel: mips: remove memset/memcpy prefetch hack (may be not safe in SMP).<br>
78) kernel: mips: fix get_user_page_fast() for mips with cache alias.<br>
79) kernel: mips: smp: remove call to ipi_call_lock()/ipi_call_unlock().<br>
80) kernel: mips: smp: kill redundant call of generic_smp_call_function_single_interrupt().<br>
81) kernel: mips: smp: don't increment irq_count multiple times for call function IPIs.<br>
82) kernel: mips: smp: fix uninitialised temp_foreign_map.<br>
83) kernel: mips: revert ensure FCSR cause bits are clear after invoking FPU emulator.<br>
84) kernel: mips: fix obsolete cpumask_of_cpu usage.<br>
85) kernel: mips: support CPU topology files in sysfs.<br>
86) kernel: mips: c-r4k: fix cache flushing for MT cores.<br>
87) kernel: mips: scache: fix scache init with invalid line size.<br>
88) kernel: math-emu: fix floating-point to integer unsigned saturation.<br>
89) kernel: math-emu: fix floating-point to integer overflow detection.<br>
90) kernel: net: use new condition when both GMAC's of RT3883/MT7621 is really used.<br>
91) kernel: net: compat: fix minor information leak in siocdevprivate_ioctl().<br>
92) kernel: net: ppp: clarify parsing of user supplied data in ppp_set_compress().<br>
93) kernel: net: ppp: release rtnl mutex when interface creation fails.<br>
94) kernel: net: pppoe: fix reference counting in PPPoE proxy.<br>
95) kernel: net: af_unix: don't set err in unix_stream_read_generic unless there was an error.<br>
96) kernel: net: af_unix: guard against other == sk in unix_dgram_sendmsg.<br>
97) kernel: net: socket: get_empty_filp()/alloc_file() leave both ->f_pos and ->f_version zero.<br>
98) kernel: net: socket: sock_close() couldn't have been called with NULL inode since at least 2.1.early.<br>
99) kernel: net: socket: use SYSCALL_DEFINEx for sys_recv.<br>
100) kernel: net: vlan: turn on unicast filtering on vlan device.<br>
101) kernel: net: ipv4: only create late gso-skb if skb is already set up with CHECKSUM_PARTIAL.<br>
<br>
<br>
<b>4.1.x</b><br>
1) kernel: up to 3.4.111 LTS version.<br>
2) coovachilli: bstring: sync with git 13.03.2016 (commit ec15981d).<br>
3) dropbear: up to 2016.72 version.<br>
4) quagga: up to 1.0.20160315 version.<br>
5) ntfs-3g: up to 2016.2.22 version.<br>
6) lldpd: up to 0.9.2 version.<br>
7) libcurl: up to 7.48.0 version.<br>
8) busybox: update to 1.24.2 version and apply post patches.<br>
9) xl2tpd: sync with devel tree 01 Apr 2016 (1.3.7 version).<br>
10) netcwnmp: rewrite for support cwmp 1.0.0 (tested with acs-test_1.0.14.01_amd64).<br>
11) libnvram: always use safe version of free.<br>
12) busybox: udhcpd: keep expired leases at startup.<br>
13) system: enable ripd support (fixed in last quagga).<br>
14) utils: switch: fix dump on switch workload.<br>
15) init.d: shaper prio fix regression (do not use dst hash in sfq with root priomap class).<br>
16) init.d: iptables: prevent allow forward for all at portmap enable without NAT enabled.<br>
17) init.d: portforward allow forward packets only for needed ports and ip, if nat enabled and portforward rules really generate.<br>
18) init.d: rewrite select SNAT/MASQRADE NAT mode (default allways try use SNAT).<br>
19) init.d: move l2tp server form S to W runlevel for correct restart after apply new changes.<br>
20) goahead: allways use free verions of free/bfree.<br>
21) goahead: fix b_stats debugging option work.<br>
22) goahead: more safe internal strdup implementation.<br>
23) goahead: generate /etc/portforward_access for forward allow only for needed ip of portforward activate.<br>
24) kernel: ralink_arch: fix build without pci-e port2 enabled (tube sample).<br>
25) kernel: ralink_arch: move MT7621 GIC interrupts to base 8 (do not overlap with MIPS 0..7). Prepare to GIC timer support.<br>
26) kernel: ralink_arch: MT7621: add support vectored interrupts.<br>
27) kernel: ralink_arch: add CLKSRC_MIPS_GIC param for MT7621 and enable GIC timer by default.<br>
28) kernel: ralink_arch: irq-legacy: fix broken masked MIPS c0_status on Timer, FE, PCIe, WLAN irq.<br>
29) kernel: ralink_arch: irq-legacy: use chained interrupts for INTC HW0/HW1 lines.<br>
30) kernel: ralink_arch: irq-legacy: route time-critical INTC interrupts to MIPS HW1 (IP3) interrupt line with higher priority.<br>
31) kernel: ralink_arch: fix R2P IRQ description on GIC map.<br>
32) kernel: ralink_raeth: apply GRO changes for our 3.4 tree.<br>
33) kernel: ralink_raeth: disable VLAN Leaky on TO_CPU operations, enable CPU port for MT7621/MT7530 GSW.<br>
34) kernel: ralink_raeth: switch control: improve SW IGMP/MLD logic, allow fast leave for used groups.<br>
35) kernel: ralink_raeth: switch control: disable forcing IGMP/MLD TO_CPU for 2xGMAC case (fix IPTV regression).<br>
36) kernel: ralink_wifi: do not hardcode RBUS irq.<br>
37) kernel: bitops: do not default to __clear_bit() for __clear_bit_unlock().<br>
38) kernel: force inlining of buffer head flag operations inbufferhead,swab,unaligned,atomic-long.h,page-flags.h (fix new gcc issue)<br>
39) kernel: add cryptodev-linux driver 1.8 (http://cryptodev-linux.org).<br>
40) kernel: add AES Engine driver for MT7628 (fully code refactoring).<br>
41) kernel: pipe: Fix buffer offset after partially failed read.<br>
42) kernel: mips: traps: fix SIGFPE information leak from `do_ov' and `do_trap_or_bp'.<br>
43) kernel: mips: c-r4k: reapply fix cache flushing for MT cores.<br>
44) kernel: mips: cache flush functions are reworked.<br>
45) kernel: mips: fix bug in using flush_cache_vunmap.<br>
46) kernel: mips: new GIC clocksource. Add new GIC clockevent driver.<br>
47) kernel: mips: lost GIC CEVT/CSRC commits (fix switch to GIC timer issue).<br>
48) kernel: mips: complete disable MIPS CEVT_R4K on enable CEVT_GIC.<br>
49) kernel: mips: irq-gic: disable GIC local compare interrupt on CEVT_GIC not used.<br>
50) kernel: mips: flush dcache for flush_kernel_dcache_page.<br>
51) kernel: mips: flush highmem pages in __flush_dcache_page.<br>
52) kernel: mips: handle highmem pages in __update_cache.<br>
53) kernel: mips: partially disable RIXI support.<br>
54) kernel: mips: REVERT: fix race condition in lazy cache flushing.<br>
55) kernel: usb: qmi_wwan: add Sierra Wireless EM74xx device ID, Gemalto's Cinterion PHxx.<br>
56) kernel: usb: usbnet: cleanup after bind() in probe().<br>
57) kernel: usb: xhci: use non-interruptible sleep for XHCI commands.<br>
58) kernel: usb: cdc_ncm: toggle altsetting to force reset before setup, do not call usbnet_link_change from cdc_ncm_bind.<br>
59) kernel: usb: qcserial: add Sierra Wireless EM74xx device ID.<br>
60) kernel: usb: xhci: correct the usage of USB_CTRL_SET_TIMEOUT.<br>
61) kernel: usb: option: add support for SIM7100E.<br>
62) kernel: net: fastpaths: remove old ugli hack and move flags to end of cb (fix compath with new GRO logic).<br>
63) kernel: net: csum: update csum_block_add to use rotate instead of byteswap.<br>
64) kernel: net: ppp: ensure file->private_data can't be overridden.<br>
65) kernel: net: vlan: propagate gso_max_segs.<br>
66) kernel: net: gro: selective flush of packets.<br>
67) kernel: net: gro: fix possible panic in skb_gro_receive().<br>
68) kernel: net: gro: add checksuming helpers.<br>
69) kernel: net: gro: only verify TCP checksums for candidates.<br>
70) kernel: net: gro: clean up tcpX_gro_receive checksum verification.<br>
71) kernel: net: gro: change GRO overflow strategy.<br>
72) kernel: net: ipv4: fix memory leaks in ip_cmsg_send() callers.<br>
73) kernel: net: ipv6: gro: fix IPV6_GRO_CB(skb)->proto problem.<br>
74) kernel: net: netfilter: nf_defrag_ipv4: drop redundant ip_send_check().<br>
75) kernel: net: bridge: update max_gso_segs and max_gso_size.<br>
76) kernel: net: bridge: multicast: notify eth switch on every leave event.<br>
77) kernel: net: mld, igmp: fix reserved tailroom calculation.<br>
78) kernel: sunrpc/cache: fix off-by-one in qword_get().<br>
79) kernel: ubi: fix out of bounds write in volume update code.<br>
80) kernel: libata: align ata_device's id on a cacheline.<br>
<br>
<br>
<b>4.2.x</b><br>
1) band steering: review managment code, fix dissalow 5GHz connect in some cases and more smooth transit 5->2.4 and back.<br>
2) dropbear: up to 2016.73 version.<br>
3) radvd: up to 2.13 version.<br>
4) samba: fix CVE-2010-2063.<br>
5) tcpdump: fix build at some systems.<br>
6) igmpproxy: code review and some fixups.<br>
7) igmpproxy: more accurate timeouts in sync mac tables with switch.<br>
8) igmpproxy: fix skip unused and unknown records in switch mac table.<br>
9) igmpproxy: fix dump mac table.<br>
10) igmpproxy: refactor buildIfVc function with fix error path.<br>
11) igmpproxy: use reuse address and no_check flags in sendUDP.<br>
12) igmpproxy: fix snooping in dualrgmii with vlans parts mode.<br>
13) igmpproxy: remove unneded member insert to table at route activate, allrady inserted in request recive.<br>
14) igmpproxy: fix type mismatch in interfaceInRoute.<br>
15) igmpproxy: hybrid snooping add sanitycheck the group adress before insert member.<br>
16) netcwnmp: fix settings apply on the fly.<br>
17) netcwnmp: fix socket close of services restart.<br>
18) netcwnmp: fix wireless mode set.<br>
19) netcwnmp: fix vpn managment.<br>
20) netcwnmp: workarround for arrange fields d-link acs issue.<br>
21) coovachilli: sync with git 16.04.2016 (commit b56d3b05).<br>
22) coovachilli: fix error in loading binary status file.<br>
23) coovachilli: fix sequence number in the TCP RESET.<br>
24) coovachilli: fix AC_DEFUN call more compliant with modern autoconf.<br>
25) coovachilli: fix size_t data wants %zu format string.<br>
26) coovachilli: disable SSLv2 and SSLv3 protocol. Add sslciphers option.<br>
27) coovachilli: add layer3 support to kmod_coova_sync.<br>
28) goahead: fix setNthValue split strings.<br>
29) goahead: fix rebuild portforward access rules.<br>
30) goahead: fix check wds key in some cases.<br>
31) init.d/goahead: add support KickStaRssiLowPSM.<br>
32) init.d/goahead: allow force only HW mode (default hibryd mode) for igmpsnooping.<br>
33) init.d: move tune roaming and advanced wifi parametrs to internet.sh (fix apply params by external logic reconfigure, as vlans and others).<br>
34) init.d: wifi params apply linerazed, remove unneded sleeps and avoid call for not existent interfaces.<br>
35) init.d: fix snooping in TV/SIP ports modes, use pure HW snooping (hibryd not support this modes now).<br>
36) init.d: fix race in ipv6 reconfigure logic.<br>
37) init.d: move ipv6 restart to true place.<br>
38) init.d: fix apply settings regression after ipv6 serialize.<br>
39) init.d: l2tp server ip-up: split and fix masqrade rules, review for more secure.<br>
40) init.d: fix portforward regression in wan_if without real address case.<br>
41) kernel: fs: cifs: fix erroneous return value.<br>
42) kernel: fs: ext4: fix bh->b_state corruption.<br>
43) kernel: ralink_wifi: add KickStaRssiLowPSM to allow different set levels for kick PSM clietns (prevent infinitive kick/reuse at some mobile clients).<br>
44) kernel: ralink_wifi: fix coexistence roaming and band steereing auth/probe reqests filter code.<br>
45) kernel: ralink_wifi: allow show band steering info with iwpriv.<br>
46) kernel: ralink_wifi: fix some errors founded by cppcheck.<br>
47) kernel: mips: cpu_name_string: Use raw_smp_processor_id().<br>
48) kernel: mips: upstream RIXI changes.<br>
49) kernel: mips: fix race condition in lazy cache flushing.<br>
50) kernel: mips: sync icache & dcache in set_pte_at.<br>
51) kernel: mips: c-r4k: sync icache when it fills from dcache.<br>
52) kernel: mips: revert: cache flush functions are reworked.<br>
53) kernel: mips: revert: fix bug in using flush_cache_vunmap.<br>
54) kernel: mips: module: fix incorrect IS_ERR_VALUE macro usages.<br>
55) kernel: mips: remove aliasing alignment if HW has antialising support.<br>
56) kernel: mips: avoid using unwind_stack() with usermode.<br>
57) kernel: mips: don't unwind to user mode with EVA.<br>
58) kernel: mips: make PCI_DMA_BUS_IS_PHYS=1 constant.<br>
59) kernel: usb: qmi_wwan: add D-Link DWM-221 B1 device id.<br>
60) kernel: usb: cdc_ncm: adding Telit LE910 V2 mobile broadband card.<br>
61) kernel: net: ipv4: l2tp: fix a potential issue in l2tp_ip_recv.<br>
62) kernel: net: sock: convert sk_peek_offset functions to WRITE_ONCE.<br>
63) kernel: net: bridge: fix incorrect variable assignment on error path in br_sysfs_addbr.<br>
64) kernel: net: wext: fix message delay/ordering.<br>
65) kernel: net: fix use after free in the recvmmsg exit path.<br>
66) kernel: net: force inlining of netif_tx_start/stop_queue, sock_hold, __sock_put.<br>
67) kernel: net: route: do not cache fib route info on local routes with oif.<br>
<br>
<br>
<b>4.3.x</b><br>
1) kernel: up to 3.4.112 LTS version.<br>
2) toolchain: update kernel headers and rebuild.<br>
3) build_system: fix cleanup libext and optimize cleanup userdir.<br>
4) build_system: port and add libtalloc (need for free radius).<br>
5) build_system: add SNR-CPE-AP2-5GHZ-MT outdor AP support.<br>
6) build_system: add SNR-CPE-AP1 celling AP support.<br>
7) build_system: add SNR-CPE-ME3-5GHZ-MT gigabit router support.<br>
8) build_system: review some logic and cleanup.<br>
9) build_system: review gcc compiler flags for uckibc.<br>
10) defaults: add base openspace roaming profile for help start configure at the current place.<br>
11) coovachilli: bstring: sync with git 21.04.2016 (commit 9a86b71).<br>
12) coovachilli: refactor radius packet send function (sync with git 02.05.2016 commit 10a73639).<br>
13) miniupnpd: up to 2.0 version.<br>
14) irqbalance: update to 27.04.2016 git version.<br>
15) dnsmasq: up to 2.76 version.<br>
16) openssl: up to 1.0.1t version (0.9.8 EOL).<br>
17) ralinkiappd: fix segfault in debug mode with level trace.<br>
18) ralinkiappd: add support send messages to seconf wlan module.<br>
19) ralinkiappd: fix ioctl to wlan in some cases.<br>
20) freeradius: porting 3.0.11 freeradius (need for standalone EAP auth for 802.1x support need).<br>
21) freeradius: strip configs and not install not used libs for save flash size.<br>
22) init.d: add logic for radius server start.<br>
23) init.d: fix dns for l2tp server clients work.<br>
24) init.d: udhcpc-script: fix parse routes in some case.<br>
25) init.d: udhcpc-script: add workaound for ISP with DGW over others net.<br>
26) init.d: udhcpc-script: flush route cache after route table modifications.<br>
27) init.d: udhcpc-script: add route stubs with low cost metric for prio real work routes.<br>
28) init.d: fix udhcpc stop procedure.<br>
29) init.d: six: always deconfig ipv6 ifaces at service stop.<br>
30) init.d: six: serialization stop=>start operation for avoid race.<br>
31) init.d: prevent stard 802.1x and iappd daemon if radio off.<br>
32) fastroaming: fix work 802.1x preauth (use iappd daemon for client migrations events).<br>
33) band_steering: add support read parametrs from nvram.<br>
34) uboot/kernel: add support EN25Q128 flash chip.<br>
35) init.d/goahead: add delta threshold rssi level for 5GHz band parametr for tune 5GHz band roaming.<br>
36) nvram: fix smart carrier support enable in mt7603.<br>
37) goahead: add band steering options.<br>
38) goahead: add contol dynamic adaptive LNA gain.<br>
39) goahead: add clamp and skip long range vga options for 7602/7612 modules (USB3/HDMI interference reduce).<br>
40) goahead: add support ap-only mode.<br>
41) goahead: fix wds disable.<br>
42) goahead: remove not needed route deadloop workaround.<br>
43) netcwnmp: fix apply some params (full support acs-test_1.0.14.01_amd64).<br>
44) configs: disable VGA for long distance clients and clamp VGA of -4dB for all per default for 7602/7612 modules.<br>
45) kernel: ralink_arch: raeth: fixes & code refactoring.<br>
46) kernel: ralink_wifi: fix build warnings if build with -Wall flag.<br>
47) kernel: ralink_wifi: backport some fixes to MT7620 and MT7610 stable drivers.<br>
48) kernel: ralink_wifi: fix variables type used as irqlock flags (MT7620 and MT7610 stable drivers).<br>
49) kernel: ralink_wifi: mt76x2 driver add workaround for DEASSOC PSM bug.<br>
50) kernel: ralink_wifi: print PA/LNA modes to syslog (for easy fabric control).<br>
51) kernel: ralink_wifi: fix replace iappd pid from ioctl.<br>
52) kernel: ralink_wifi: add mt7603 driver support.<br>
53) kernel: ralink_wifi: mt76x3: driver update to 4.1.0.0 pre version.<br>
54) kernel: ralink_wifi: mt76x3: fix build warnings.<br>
55) kernel: ralink_wifi: mt76x3: fix ate build and work.<br>
56) kernel: ralink_wifi: mt76x3: port auto handover logic (basic roaming).<br>
57) kernel: ralink_wifi: mt76x3: port spectrum fixes.<br>
58) kernel: ralink_wifi: mt76x3: allow some getinfo from iwpriv without DBG build flag.<br>
59) kernel: ralink_wifi: mt76x3: allow log connect/disconnect and others info.<br>
60) kernel: ralink_wifi: mt76x3: fix band steering defaults.<br>
61) kernel: compiler-gcc: disable -ftracer for __noclone functions.<br>
62) kernel: compiler.h: add support for malloc attribute.<br>
63) kernel: mm: fix page_group_by_mobility_disabled breakage.<br>
64) kernel: ext4: fix NULL pointer dereference in ext4_mark_inode_dirty().<br>
65) kernel: bio: return EINTR if copying to user space got interrupted.<br>
66) kernel: fs/exec.c: fix minor memory leak.<br>
67) kernel: mips: reimplement get_cycles().<br>
68) kernel: mips: mm: c-r4k: panic if IL or DL fields have a reserved value.<br>
69) kernel: mips: allow emulation for unaligned [LS]DXC1 instructions.<br>
70) kernel: usb: option: add D-Link DWM-221 B1 device id.<br>
71) kernel: usb: cdc_mbim: apply NDP to end quirk to all Huawei devices.<br>
72) kernel: usb: cdc-acm: more sanity checking.<br>
73) kernel: net: ipv6: count in extension headers in skb->network_header.<br>
74) kernel: net: ipv6: recursive check rt->dst.from when call rt6_check_expired.<br>
75) kernel: net: xfrm: fix crash observed during device unregistration and decryption.<br>
76) kernel: net: ethtool: fix phy adress get from user.<br>
77) kernel: net: ethtool: issue with querying phy settings.<br>
78) kernel: net: fix net_gso_ok for new GSO types.<br>
79) kernel: net: netfilter: x_tables: fix unconditional helper.<br>
80) kernel: net: netfilter: x_tables: make sure e->next_offset covers remaining blob size.<br>
81) kernel: net: make *sfhash and real small functions in conntrack always inline (small optimize).<br>
82) kernel: net: fq_codel: explicitly reset flows in ->reset().<br>
83) kernel: net: ppp: take reference on channels netns.<br>
84) kernel: net: bridge: fix old ioctl unlocked net device walk.<br>
85) kernel: net: bridge: fix igmp / mld query parsing.<br>
86) kernel: net: bridge: fix igmpv3 / mldv2 report parsing.<br>
87) kernel: net: bridge: fix potential use-after-free when hook returns QUEUE or STOLEN verdict.<br>
88) kernel: net: revert - mld, igmp: fix reserved tailroom calculation.<br>
<br>
<br>
<b>4.4.x</b><br>
1) uboot: up to 5.0.1.0-6 version.<br>
2) toolchain: kernel headers up and rebuild.<br>
3) libcurl: up to 7.49.1 version.<br>
4) lldpd: up to 0.9.3 version.<br>
5) irqbalance: update to 28.06.2016 git version.<br>
6) build_system: add libmicrohttpd 0.9.50 (need for new version nodogsplash).<br>
7) coovachilli: up to 1.3.1.4 version from git 09.06.2016 (commit ac1543ad).<br>
8) nodogsplash: up to version 1.0.0 (commit: 5c9154c2).<br>
9) usb-modeswitch: up to 2.4.0 version (data up to 20160612).<br>
10) nvram: allways copy values as string, not need convert str->int->str.<br>
11) defaults: fix fast roaming defaults and add check this.<br>
12) init.d: six: add wait release procedure end in dhcp6c stop path.<br>
13) init.d: six: fix static ipv6 support.<br>
14) netcwmpd: fix reboot afer firmware update in some cases.<br>
15) pppd: pptp plugin: use global debug flag in pptp_ctrl.<br>
16) goahead: use direct call to kernel if need fast reboot.<br>
17) goahead: add Rx/Tx bytes per client in WebUI.<br>
18) goahead: add wait apply settings counter.<br>
19) goahead: fix check input values in some places.<br>
20) goahead: fix busy wait on socket disconnect.<br>
21) goahead: refactor administrator status page.<br>
22) goahead cgi and mtd_write must be link with libgcc as static to (prevent freez after write before reboot).<br>
23) nodogsplash: web pages: use meta tag viewport for more usable at mobile browsers.<br>
24) busybox/udhcpc: fix T2 time to be 0,875 of duration lease per RFC2132.<br>
25) ralinkiappd: temp disable crypt for iappd frames (need for debug, compat with dual radio and others iappd implementations).<br>
26) ralinkiappd: fix encrypt/decrypt function for dual band operations (if used).<br>
27) ralinkiappd: fix potentioanl null pointer dereference.<br>
28) kernel: ralink_arch: allow highmem region for 512M devices.<br>
29) kernel: ralink_arch: fix memory size autodetect with highmmem.<br>
30) kernel: ralink_arch: fix parse uboot cmdline.<br>
31) kernel: ralink_wifi: mt76x2: fix apcli phymode regression after 3.0.5.0 up.<br>
32) kernel: ralink_wifi: mt76x2: fix build driver options in 7620 2.7 driver + 7612 3.0.5 driver config.<br>
33) kernel: ralink_wifi: mt76x2: fix sanity check in RtmpEnqueueNullFrame.<br>
34) kernel: ralink_wifi: mt76x2: fix ed cca disable in bbp if build without ed_monitor support.<br>
35) kernel: ralink_wifi: mt76x2: fix drop to BW_20 regression.<br>
36) kernel: ralink_wifi: mt76x2: fix lost beacons at high noise level.<br>
37) kernel: ralink_wifi: mt76x2: fix drop Main-AP to BW 20MHz after AP-Client connected to 20MHz Root-AP.<br>
38) kernel: ralink_wifi: mt76x2: update to 3.0.5.0_DPA_20160229 version.<br>
39) kernel: ralink_wifi: mt7603: set ring sizes for lab tested results.<br>
40) kernel: ralink_wifi: mt7603: fix proc path name.<br>
41) kernel: ralink_wifi: mt7603: fix set enq_done in drop path of rtmp_enq_req.<br>
42) kernel: ralink_wifi: mt7603: avoid not needed flush txring at try insert managment reqests.<br>
43) kernel: ralink_wifi: mt7603: fix rtmp_ee_prom_read16.<br>
44) kernel: ralink_wifi: mt7603: improve apcli autoconnect.<br>
45) kernel: ralink_wifi: mt7603: use full rescan on AP-Client auto-connect.<br>
46) kernel: ralink_wifi: mt7603/mt76x2: allow get rrminfo and ftinfo without debug.<br>
47) kernel: ralink_wifi: mt7603/mt76x2: allow RRM Quiet IE support.<br>
48) kernel: ralink_wifi: mt7610: backport support 802.11K/R from 3.0.5.0 76x2 driver.<br>
49) kernel: ralink_wifi: mt7610: fix disable secondary EDCCA.<br>
50) kernel: ralink_wifi: mt7610: add lost drop burst flag in RtmpPCIMgmtKickOut.<br>
51) kernel: ralink_wifi: fix rekey interval allways exeed at preauth clients.<br>
52) kernel: ralink_wifi: set max mcast pkt`s in psq=16 (as mt7620 2.7.2.0 production drivers).<br>
53) kernel: ralink_wifi: convert all IrqFlags to ulong.<br>
54) kernel: ralink_wifi: fix throughput issue for some vendor AP with AES mode.<br>
55) kernel: ralink_wifi: fix default set MsduLifeTime at startup.<br>
56) kernel: ralink_wifi: fix set channel width in HT_CAP.<br>
57) kernel: ralink_wifi: fix potentional null pointer dereference in some case.<br>
58) kernel: ralink_wifi: do not disable HT protect if only one station connected to AP.<br>
59) kernel: ralink_wifi: in RT_802_11_MAC_ENTRY add Rx/TxBytes for read in UI.<br>
60) kernel: ralink_wifi: fix mlme request success handle.<br>
61) kernel: ralink_wifi: fix apcli lost beacon timeout.<br>
62) kernel: ralink_wifi: prevent drop 5GHz clients to CCK mode.<br>
63) kernel: ralink_wifi: more readable log for apcli connect procedure.<br>
64) kernel: ralink_wifi: fix fastroaming coexistence with band steering and handover logic.<br>
65) kernel: ralink_wifi: ap-cli HT-40 connection fixes.<br>
66) kernel: ralink_wifi: backport AP-Client auto-connect ability from 4.1.X.X tree.<br>
67) kernel: ralink_wifi: backport some fixes from 3.0.4.0.P2, 3.0.5.0 and 4.1.0.0 drivers to stable tree versions.<br>
68) kernel: fix build with gcc5 (soft/hardfloat issue workaround).<br>
69) kernel: backport RTC_SYSTOHC from upstream.<br>
70) kernel: locking, compiler.h: Cast away attributes in the WRITE_ONCE() magic.<br>
71) kernel: kernel/relay.c: fix potential memory leak.<br>
72) kernel: splice: handle zero nr_pages in splice_to_pipe().<br>
73) kernel: nfs: fix nfs_size_to_loff_t.<br>
74) kernel: rcu: make rcu_is_cpu_rrupt_from_idle helper functions static.<br>
75) kernel: wait: allow sys_waitid() to accept __WNOTHREAD/__WCLONE/__WALL.<br>
76) kernel: sched: always inline context_switch().<br>
77) kernel: sections: fix section conflicts in mm/percpu.c.<br>
78) kernel: sg: fix dxferp in from_to case.<br>
79) kernel: mm/mlock: prepare params outside critical region.<br>
80) kernel: mm: reorder can_do_mlock to fix audit denial.<br>
81) kernel: mm/msync.c: sync only the requested range in msync().<br>
82) kernel: mm/msync: fix incorrect fstart calculation.<br>
83) kernel: mm/mempool: add @gfp_mask to mempool_create_node().<br>
84) kernel: mm/mempool: convert kmalloc_node(...GFP_ZERO...) to kzalloc_node(...).<br>
85) kernel: mips: make flush_thread and exit_thread always inline.<br>
86) kernel: mips: lib: mark intrinsics notrace.<br>
87) kernel: mips: fix accessing to per-cpu data when flushing the cache.<br>
88) kernel: mips: fix forgotten preempt_enable() when CPU has inclusive pcaches.<br>
89) kernel: usb: xhci: fix wild pointers in xhci_mem_cleanup.<br>
90) kernel: usb: serial: option: add more ZTE device ids.<br>
91) kernel: usb: serial: option: add support for Cinterion PH8 and AHxx.<br>
92) kernel: usb: net: cdc_ncm: update datagram size after changing mtu.<br>
93) kernel: usb: core: fix crash on unlink urb.<br>
94) kernel: usb: retry reset if a device times out.<br>
95) kernel: net: ipv4: don't do expensive useless work during inetdev destroy.<br>
96) kernel: net: bridge: fix incorrect re-injection of STP packets.<br>
97) kernel: net: ethtool: use kcalloc instead of kmalloc for ethtool_get_strings.<br>
98) kernel: net: netfilter: x_tables: don't move to non-existent next rule (CVE-2016-4997).<br>
99) kernel: net: ipmr/ip6mr: Initialize the last assert time of mfc entries.<br>
<br>
<br>
<b>4.5.x</b><br>
1) xz: up to 5.2.2 version.<br>
2) busybox: update to 1.25.0 version.<br>
3) xupnpd: up to 1.034 version commit dffe9c55 (use old style ui).<br>
4) radvd: up to 2.14 version.<br>
5) build_system: add libwive for move reused functions from goaead/netcwmpd/snmpd/etc to one place.<br>
6) build_system: enable build FT/RRM support for all chips.<br>
7) defaults: allow 80MHz channel width for MD1 devices per default.<br>
8) full remove redumentary LAN2 alias support.<br>
9) netcwmpd: rework debug messages and start use libwive functions.<br>
10) libwive: add portstatus,portscounts function sfor easy get port status and counts info (future use in cli,goahead and netcwmpd).<br>
11) goahead: auto update station list.<br>
12) goahead: full refactoring station list, apcli page.<br>
13) goahead: fix timezone for Novosibirsk.<br>
14) goahead: merge wireless basic and advanced page.<br>
15) goahead: add input values check to ipv6 page.<br>
16) goahead: add ipv6 dns options.<br>
17) goahead: add use default password warnings.<br>
18) goahead: move select band for apcli/wds to true places.<br>
19) goahead: refactoring firewall/dmz/wds pages.<br>
20) goahead: add lost buffer alocation checks (prevent null pointer dereference in come cases).<br>
21) goahead: add TX Rate show in station list.<br>
22) libnvram: move rebuild script logic from goahead to this place (prepare drop dependency and more code reuse).<br>
23) nvram: add genstaticroutes and geniptablesrules commands for use from init instead of direct call from goahead (drop dependency routes/netfilters by goahead).<br>
24) init.d: direct call regenerate route/iptables rules and switch bootlevel instead iptables call.<br>
25) init.d: rename web init to switchstage and drop goahead dependency start second init stage.<br>
26) init.d: use user configured ipv6 dns in static mode and as fallback for dhcp mode.<br>
27) init.d: fix not set MTU to WAN regression.<br>
28) init.d: fix unload unused conntrack helpers modules.<br>
29) init.d: fix buffers overflow trouble chillispot with 76x2 driver.<br>
30) kernel: ralink_wifi: fix potentional crash in AllocateNdisPacket.<br>
31) kernel: ralink_wifi: prevent new gcc overoptimization.<br>
32) kernel: ralink_wifi: lost zero tx_block RxRing1DoneInterruptHandle.<br>
33) kernel: ralink_wifi: fix padding in AMSDU frames.<br>
34) kernel: ralink_wifi: fix potentional null pointer dereference in RTMPSendPackets.<br>
35) kernel: ralink_wifi: fix set and use country code (need for RRM).<br>
36) kernel: ralink_wifi: fix set mcast BW from profiles.<br>
37) kernel: ralink_wifi: AP-Client: use new format of ApCliWPAPSK.<br>
38) kernel: ralink_wifi: AP-Client: AP-Client: autoconnect fixes.<br>
39) kernel: ralink_wifi: AP-Client: reset SSID value on init.<br>
40) kernel: ralink_wifi: improve drop dead STA clients and clean TX rings.<br>
41) kernel: ralink_wifi: igmp_snoop: do not perform M2U for excluded/reserved multicast group.<br>
42) kernel: ralink_wifi: use 64bit counters for per clients rx/tx bytes statistic.<br>
43) kernel: ralink_wifi: mt7620: fix bogus set pci_dev context for RBUS mode.<br>
44) kernel: ralink_wifi: mt7610: add VTH mode for multicast phy mode set.<br>
45) kernel: ralink_wifi: mt7610: fix mcast BW set with BW=80Mhz.<br>
46) kernel: ralink_wifi: mt7610: add lost 140,144 channels in N_Check.<br>
47) kernel: ralink_wifi: mt76x2: fix AutoTxRateSwitch in some cases.<br>
48) kernel: ralink_wifi: mt76x2: fixed broken iwpriv RadioOn=1.<br>
49) kernel: ralink_wifi: mt76x2/mt7603: fix hwHdrLen calculation regression after china refactoring.<br>
50) kernel: ralink_wifi: mt7620/mt7610/mt76x2: clear TXWI ack flags in Tx Ring before send disconnect to clients.<br>
51) kernel: ralink_wifi: mt7603: fix broken AP -> AP-Client forwards on NoForwardingBTNBSSID=1.<br>
52) kernel: ralink_wifi: mt7620/mt7610: fix IoT issue with Macbook. (AP Don't send BAOriSessionTearDown).<br>
53) kernel: ralink_wifi: mt7620/mt7610: check our BSSID on receive DEAUTH frame.<br>
54) kernel: mips: fix possible corruption of cache mode by mprotect.<br>
55) kernel: mips: fix siginfo.h to use strict posix types.<br>
56) kernel: mips: remove cpu_has_safe_index_cacheops.<br>
57) kernel: mips: dma-default: defend against NULL dev in massage_gfp_flags.<br>
58) kernel: mips: prevent hitting do_notify_resume() with !user_mode(regs).<br>
59) kernel: mips: fix harmlessly missing else statement.<br>
60) kernel: mips: tlbex: avoid duplicated single_insn_swpd.<br>
61) kernel: mips: uasm: handle low values in uasm_in_compat_space_p().<br>
62) kernel: mips: traps: return correct si code for accessing nonmapped addresses.<br>
63) kernel: mips: c-r4k: fix sigtramp SMP call to use kmap.<br>
64) kernel: mips: c-r4k: avoid dcache flush for sigtramps.<br>
65) kernel: mips: c-r4k: add r4k_on_each_cpu cache op type arg.<br>
66) kernel: mips: c-r4k: fix valid ASID optimisation.<br>
67) kernel: mips: c-r4k: exclude sibling CPUs in SMP calls.<br>
68) kernel: mips: c-r4k: split r4k_flush_kernel_vmap_range().<br>
69) kernel: mips: c-r4k: local flush_icache_range cache op override.<br>
70) kernel: mips: c-r4k: avoid small flush_icache_range SMP calls.<br>
71) kernel: mips: smp: clear ASID without confusing has_valid_asid().<br>
72) kernel: mips: smp: update cpu_foreign_map on CPU disable.<br>
73) kernel: mips: smp: drop stop_this_cpu() cpu_foreign_map hack.<br>
74) kernel: cdc_ncm: workaround for EM7455 silent data interface.<br>
75) kernel: rndis_host: Set valid random MAC on buggy devices.<br>
76) kernel: cdc_ether: improve ZTE MF823/831/910 handling.<br>
77) kernel: usb: serial: option: add support for Telit LE910 PID 0x1206.<br>
78) kernel: net: tcp: increase size at which tcp_bound_to_half_wnd bounds to > TCP_MSS_DEFAULT.<br>
79) kernel: net: net/core: revert net: fix __netdev_update_features return.. and add comment.<br>
80) kernel: net: neigh: only allow init_net to change the default neigh_parms.<br>
81) kernel: net: neigh: netlink notification for administrative NUD state change.<br>
82) kernel: net: neigh: directly goto out after setting nud_state to NUD_FAILED.<br>
83) kernel: net: neigh: recompute reachabletime before returning from neigh_periodic_work().<br>
84) kernel: net: neigh: disallow transition to NUD_STALE if lladdr is unchanged in neigh_update().<br>
85) kernel: net: ppp: defer netns reference release for ppp channel.<br>
86) kernel: net: netfilter: nf_conntrack_h323: fix off-by-one in DecodeQ931.<br>
87) kernel: net: ipv4: af_inet: make it explicitly non-modular.<br>
88) kernel: net: graceful exit from netif_alloc_netdev_queues().<br>
89) kernel: net: bridge: Fix incorrect re-injection of LLDP packets.<br>
90) kernel: net: ipv6: slight optimization in ip6_dst_gc.<br>
91) kernel: net: ipv6: make ip -6 route get mark xyz work.<br>
92) kernel: net: ipv6: update Destination Cache entries when gateway turn into host.<br>
93) kernel: net: ipv6: fix RTPROT_RA markup of RA routes w/nexthops.<br>
94) kernel: net: ipv6: pass neighbours and dest address into NETEVENT_REDIRECT events.<br>
95) kernel: net: netfilter: h323: Use mod_timer instead of set_expect_timeout.<br>
96) kernel: mm: prevent setting of a value less than 0 to min_free_kbytes.<br>
<br>
<br>
<b>4.6.x</b><br>
1) toolchain: update kernel headers and rebuild.<br>
2) libwive: add more functions and document it (~60% work end).<br>
3) libnvram: move nvram_load_default and gen_wifi_config from nvram tool (for code reuse).<br>
4) libtalloc: update to 2.1.8 version.<br>
5) libcurl: up to 7.50.1 version.<br>
6) nodogsplash: up to version 2.0.0 (commit: b79e1163).<br>
7) xl2tpd: update to 1.3.8 version (sync with devtree commit: 6fe1ed52).<br>
8) dropbear: up to 2016.74 version.<br>
9) lldpd: up to 0.9.4 version.<br>
10) iappd: fix driver crash by long encrypted ioctl after not correct RRB packets get (Android 6.x at Samsung Galaxy S5).<br>
11) busybox: apply busybox-1.25.0-ip.patch, busybox-1.25.0-gzip.patch, busybox-1.25.0-ntpd.patch.<br>
12) busybox: udhcpc: run deconfig script in manual renew state too.<br>
13) busybox: ash: do not leave SIGQUIT ignored on exec CMD.<br>
14) coovachilli: up to 1.3.1.4 from git (commit 374af0af).<br>
15) coovachilli: rewiev build options for maximum decrease memory footprint.<br>
16) libmicrohttp/nodogsplash: fix regression after add SO_REUSE_PORT support (3.4.x kernel not support this - rewrite to address reuse).<br>
17) bstrlib: sync with git (commit f5af8c88).<br>
18) build_system: add templates for support SFP router.<br>
19) init.d: add limited support GSW port5 connect to external phy in one rgmii mode.<br>
20) init.d: fix wds regression and coex with apcli mode.<br>
21) init.d: vpn: do not remove autoroute if dgw not enabled.<br>
22) init.d: unifi readdif_to_br and delif_from_br functions.<br>
23) init.d: fix deconfig second apcli interface.<br>
24) init.d: chillispot: rework parse options (prepare for multilan support).<br>
25) init.d: chillispot: iptables: drop depend from lan_if variable (prepare for multilan support).<br>
26) init.d: six: do not use dhcpv6 for client adresses configuration, only RA use for this, dhcpv6 only DNS send to clients if enabled.<br>
27) init.d: six: set AdvOtherConfigFlag to on only if dhcp6s enabled, instead send dns in RA.<br>
28) init.d: chillispot: start with high prio for prevent drop packets.<br>
29) nvram/goahead: split WPAPSK1 and WPAPSK1INIC for allow set differents passwords to 2.4/5GHz radio.<br>
30) libnvram: fix put unneded divider in mbssid.<br>
31) goahead: more usable station list extended info.<br>
32) goahead: add apcli connection status.<br>
33) goahead: fix reboot after managment port change regression.<br>
34) goahead: avoid full reboot after misc page applly.<br>
35) goahead: add apscan support.<br>
36) goahead: fix segfault on apcli page settings apply.<br>
37) goahead: avoid reboot at apcli change settings.<br>
38) goahead: refactoring service misc page.<br>
39) cli: initial implementation (wl scan/stalist/status, sw lan/wan/vpn/dhcp/status/switch, st show,dhcp,l2tp,ntp,ddns,samba,vpn).<br>
40) kernel: ralink_wifi: fix set mcast rate from profile.<br>
41) kernel: ralink_wifi: remove bogus fill IE_COUNTRY block (MTK copy-past bug).<br>
42) kernel: ralink_wifi: fix beacons IE_COUNTRY power constraint value (swing 16 <-> 20).<br>
43) kernel: ralink_wifi: DMA remove bogus play with TXD block for Little-Endian in RTMPFreeTXDUponTxDmaDone().<br>
44) kernel: ralink_wifi: mt76x2: remove redundant select pci_dev pointer for RBUS.<br>
45) kernel: ralink_wifi: mt76x2/mt76x3: fix and refactor force announse critical ampdu.<br>
46) kernel: ralink_wifi: mt76x2/mt76x3: fix wrong parse ICMP type in data queue reserve.<br>
47) kernel: ralink_wifi: mt76x2/mt76x3: fix double free on RTMPFreeTXDUponTxDmaDone().<br>
48) kernel: ralink_ppe: fix hang MT7621 PPE on manual unbind entry.<br>
49) kernel: mips: fix memory regions reaching top of physical.<br>
50) kernel: mips: fix r4k clockevents registration.<br>
51) kernel: mips: ralink system tick counter: use clockevents_config_and_register.<br>
52) kernel: mips: RM7000: Double locking bug in rm7k_tc_disable().<br>
53) kernel: mips: KEYS: 64-bit MIPS needs to use compat_sys_keyctl for 32-bit userspace.<br>
54) kernel: mips: Lantiq: Fix build failure.<br>
55) kernel: mips: move identification of VP(E) into proc.c from smp-mt.c.<br>
56) kernel: mips-gic: use clockevents_config_and_register.<br>
57) kernel: mips: dma: Fix BUG due to smp_processor_id() in preemptible code.<br>
58) kernel: mips: provide nice way to access boot CPU's data.<br>
59) kernel: mips: ptrace: avoid smp_processor_id() in preemptible code.<br>
60) kernel: mips: oprofile: fix a preemption issue.<br>
61) kernel: mips: fix definition of KSEGX() for 64-bit.<br>
62) kernel: sched/loadavg: fix loadavg artifacts on fully idle and on fully loaded systems.<br>
63) kernel: usb: xhci: fix panic if disconnect.<br>
64) kernel: usb: core: buffer: avoid NULL pointer dereferrence.<br>
65) kerenl: usb: cdc-acm: fix wrong pipe type on rx interrupt xfers.<br>
66) kernel: usb: serial: option: add support for Telit LE920A4.<br>
67) kernel: usb: serial: option: add D-Link DWM-156/A3.<br>
68) kernel: tun: don't look at current when non-blocking.<br>
69) kernel: net: core: inline dev_alloc_skb() call.<br>
70) kernel: net: flow_dissector: support L2 GRE.<br>
71) kernel: net: decrease size of skb_shared_info (prevent page allocation failure on wireless path).<br>
72) kernel: net: rps: inspect PPTP encapsulated by GRE to get flow hash.<br>
73) kernel: net: pptp: refactor the struct and macros of PPTP codes.<br>
74) kernel: net: l2tp: fix the connect status check in pppol2tp_getname.<br>
75) kernel: net: l2tp: correctly return -EBADF from pppol2tp_getname.<br>
76) kernel: net: l2tp: refactor the codes with existing macros instead of literal number.<br>
77) kernel: net: packet: improve socket create/bind latency in some cases.<br>
78) kernel: net: packet: race condition in packet_bind.<br>
79) kernel: net: ipv6: don't call fib6_run_gc() until routing is ready.<br>
80) kernel: net: ipv6: update ip6_rt_last_gc every time GC is run.<br>
81) kernel: net: tcp: make challenge acks less predictable (CVE-2016-5696).<br>
82) kernel: net: tcp: md5: fix lockdep annotation.<br>
83) kernel: net: tcp: consider recv buf for the initial window scale.<br>
84) kernel: net: tcp: fix use after free in tcp_xmit_retransmit_queue().<br>
85) kernel: net: netfilter: replace strnicmp with strncasecmp.<br>
86) kernel: net: netfilter: avoid race with exp->master ct.<br>
87) kernel: net: netfilter: conntrack: only need first 4 bytes to get l4proto ports.<br>
88) kernel: net: netfilter: conntrack: don't attempt to iterate over empty table.<br>
89) kernel: net: netfilter: nf_conntrack_sip: CSeq 0 is a valid CSeq.<br>
90) kernel: net: netfilter: xt_mark, xt_connmark: do not skip HW_NAT on RA_HW_NAT_QDMA enabled.<br>
91) kernel: net: netfilter: nf_ct_h323: do not re-activate already expired timer.<br>
92) kernel: net: netfilter: ctnetlink: reject new conntrack request with different l4proto.<br>
93) kernel: net: netfilter: gre: Use consistent GRE_* macros instead of ones defined by netfilter.<br>
94) kernel: net: netfilter: gre: Use consistent GRE and PTTP header structure instead of the ones defined by netfilter.<br>
95) kernel: net: netfilter: ftp: Remove the useless dlen==0 condition check in find_pattern.<br>
96) kernel: net: netfilter: ftp: Remove the useless code.<br>
97) kernel: net: netfilter: nf_ct_sip: correct parsing of continuation lines in SIP headers.<br>
98) kernel: net: netfilter: nf_ct_sip: correct allowed characters in Call-ID SIP header.<br>
99) kernel: net: netfilter: nf_ct_sip: allow tab character in SIP headers.<br>
<br>
<br>
<b>4.7.x</b><br>
1) toolchain: gcc: use the proper rtx cost model for the selected CPU, even when optimizing 2 for size.<br>
2) configs: mt7621: enable highmem support, work and tests ok now.<br>
3) configs: enable freeradius build.<br>
4) busybox: update to 1.25.1 version.<br>
5) coovachilli: enable openssl support.<br>
6) coovachilli: do not limit start and end ip adresses in pool per default (limit by chilli_net network range).<br>
7) coovachilli: up to 1.3.2 from git (commit 078ed2df).<br>
8) openssl: update to 1.0.1u.<br>
9) radvd: update to 2.15 version.<br>
10) xl2tpd: update to 1.3.8 version (sync with devtree commit: 6bb1402e).<br>
11) freeradius: up to 3.0.12 version.<br>
12) lldpd: up to 0.9.5 version.<br>
13) libcurl: up to 7.50.3 version.<br>
14) libcurl: fix build with openssl and zlib support.<br>
15) busybox: ash: in heredoc code, fix access past the end of allocated memory. Closes 9276.<br>
16) goahead: implement vlan page and switch status refactoring.<br>
17) goahead: webui: fix TV/SIP ports with vlans configured.<br>
18) goahead: webui: rework vpn server page.<br>
19) goahead: webui: add profile for hotspot.ots-net.ru in chillipage.<br>
20) goahead: webui: add radius server page.<br>
21) init.d: split set_vlan_map to set_port_vlan_prio_map and set_vlan_ingress_prio_map functions.<br>
22) init.d: coova-chilli: setup clients for /32 network (client2client traffic isolate).<br>
23) init.d: split sip/tv vlans logic, prevent create unused vlan bridges.<br>
24) init.d: add qos prio for vlan based tv/sip ports.<br>
25) init.d: write logic for radiusd user managment.<br>
26) init.d: radiusd: try reload configs without full restart if possible.<br>
27) cli: add report mode for easy remote get and parse info.<br>
28) kernel: ralink_arch: pci: refactoring PCR code.<br>
29) kernel: ralink_spi: use last stub item if flash chip not recognized.<br>
30) kernel: ralink_spi: increase rwfs partsize to 640Kb for 8Mb flash devices and 1Mb for 16/32Mb flash devices.<br>
31) kernel: ralink_raeth: fix lost disable EEE for 7350 gsw on link down.<br>
32) kernel: ralink_wifi: disallow fallback per default.<br>
33) kernel: ralink_wifi: decrase optimistic rate TrainUP (more interference immunity).<br>
34) kernel: ralink_wifi: smallest rate adaptation interval for decrease packets drop at high interference.<br>
35) kernel: ralink_wifi: prevent mode dropdown to CCK in pure OFDM modes.<br>
36) kernel: ralink_wifi: sanity check for apd daemon ioctl.<br>
37) kernel: ralink_wifi: prevent some potentional null pointer dereferences.<br>
38) kernel: ralink_wifi: do not need require ACK for probe requests.<br>
39) kernel: ralink_wifi: update regional channel lists.<br>
40) kernel: ralink_wifi: rrm: fix Voice Enterprise : Item V-E-4.3, case2 still need to include the SSID sub filed even SsidLen is 0.<br>
41) kernel: ralink_wifi: rrm: send rrm report from managment ring.<br>
42) kernel: ralink_wifi: rrm: fix report if auto channel select use.<br>
43) kernel: ralink_wifi: rrm: fix padding/limit ie ext cap.<br>
44) kernel: ralink_wifi: mt7620: add very simple support of RRM (only TPC/Regulatore/APChannel reports).<br>
45) kernel: ralink_wifi: mt7620: fix set quick rate adapt interval.<br>
46) kernel: ralink_wifi: mt76x2: fix reset idle timeout and retransmits counter on broadcast/multicast activity.<br>
47) kernel: ralink_wifi: mt76x2: disable buggy play with auto fallback in ra_alg_grp.<br>
48) kernel: ralink_wifi: mt7610: fix set Entry CurrTxRateIndex in rate adapt logic.<br>
49) kernel: ktime: add __must_check prefix to ktime_to_timespec_cond.<br>
50) kernel: sched/core: fix a race between try_to_wake_up() and a woken up task.<br>
51) kernel: softirq: let ksoftirqd do its job.<br>
52) kernel: usb: serial: option: add WeTelecom WM-D200.<br>
53) kernel: usb: serial: option: add WeTelecom 0x6802 and 0x6803 products.<br>
54) kernel: kernel.h: make abs() work with 64-bit types and remove abs64().<br>
55) kernel: kernel.h: change abs() macro so it uses consistent return type.<br>
56) kernel: asm-generic headers: uaccess.h to conditionally define segment_eq().<br>
57) kernel: asm-generic: uaccess s/might_sleep/might_fault/.<br>
58) kernel: asm-generic: uaccess: Allow arches to over-ride __{get,put}_user_fn().<br>
59) kernel: asm-generic: {get,put}_user ptr argument evaluate only 1 time.<br>
60) kernel: asm-generic: make copy_from_user() zero the destination properly.<br>
61) kernel: asm-generic: make get_user() clear the destination on errors.<br>
62) kernel: mips: barrier: add definitions of SYNC stype values.<br>
63) kernel: mips: c-r4k: fix size calc when avoiding IPIs for small icache flushes.<br>
64) kernel: mips: asm-offset.c: delete unused irq_cpustat_t struct offsets.<br>
65) kernel: mips: fix possibility of deadlock when bringing CPUs online.<br>
66) kernel: mips: squash lines for simple wrapper functions.<br>
67) kernel: mips: c-r4k: split user/kernel flush_icache_range().<br>
68) kernel: mips: cacheflush: use __flush_icache_user_range().<br>
69) kernel: mips: fix detection of unsupported highmem with cache aliases.<br>
70) kernel: mips: use struct list_head lists.<br>
71) kernel: mips: pci: make pcibios_set_cache_line_size an initcall.<br>
72) kernel: mips: pci: inline pcibios_assign_all_busses.<br>
73) kernel: net: tune route/arp caches timeouts for more suitable default values.<br>
74) kernel: net: get rid of an signed integer overflow in ip_idents_reserve().<br>
75) kernel: net: fix sk_mem_reclaim_partial().<br>
76) kernel: net: avoid sk_forward_alloc overflows.<br>
77) kernel: net: packet: minor: add generic tpacket_uhdr to access packet headers.<br>
78) kernel: net: packet: tx timestamping on tpacket ring.<br>
79) kernel: net: socket: move ktime2ts to ktime header api.<br>
<br>
<br>
<br>
